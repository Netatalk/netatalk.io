<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: /Users/dmark/dev/netatalk/include/atalk/netatalk_conf.h File Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">netatalk<span id="projectnumber">&#160;4.4.0dev</span>
   </div>
   <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('netatalk__conf_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">netatalk_conf.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="globals_8h_source.html">atalk/globals.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2atalk_2volume_8h_source.html">atalk/volume.h</a>&gt;</code><br />
</div>
<p><a href="netatalk__conf_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adb4aefcaa370e4e8ced949f9bd893f14" id="r_adb4aefcaa370e4e8ced949f9bd893f14"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb4aefcaa370e4e8ced949f9bd893f14">afp_config_parse</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, char *processname)</td></tr>
<tr class="memitem:ac001e643f465d9fe85fe41e3cbc3428f" id="r_ac001e643f465d9fe85fe41e3cbc3428f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac001e643f465d9fe85fe41e3cbc3428f">afp_config_free</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
<tr class="memitem:a2d92d4ec9f9f0a8e165d39c10d9574cf" id="r_a2d92d4ec9f9f0a8e165d39c10d9574cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d92d4ec9f9f0a8e165d39c10d9574cf">load_charset</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memitem:aa051b28df16f69cdbffebc533455f4e7" id="r_aa051b28df16f69cdbffebc533455f4e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa051b28df16f69cdbffebc533455f4e7">load_volumes</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, <a class="el" href="include_2atalk_2volume_8h.html#a93895477a246ceefb8f62520711e425e">lv_flags_t</a> <a class="el" href="cmd__dbd_8c.html#a5b5dc5446eb7e7a502a06d67b7ea302c">flags</a>)</td></tr>
<tr class="memitem:a95d5c38b0997be2581319b937878f63e" id="r_a95d5c38b0997be2581319b937878f63e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d5c38b0997be2581319b937878f63e">unload_volumes</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
<tr class="memitem:ac469454bc0d153324821952c87816bb4" id="r_ac469454bc0d153324821952c87816bb4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac469454bc0d153324821952c87816bb4">getvolumes</a> (void)</td></tr>
<tr class="memitem:ab18d17fd2ea484be1f561981fd1ba720" id="r_ab18d17fd2ea484be1f561981fd1ba720"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab18d17fd2ea484be1f561981fd1ba720">getvolbyvid</a> (const uint16_t)</td></tr>
<tr class="memitem:a078796270be4438a00a963d87e8d332b" id="r_a078796270be4438a00a963d87e8d332b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a078796270be4438a00a963d87e8d332b">getvolbypath</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memitem:ab955be2ccb9cf905ece60435a9fc7036" id="r_ab955be2ccb9cf905ece60435a9fc7036"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab955be2ccb9cf905ece60435a9fc7036">getvolbyname</a> (const char *name)</td></tr>
<tr class="memitem:a4327f5a87fce86a37525485b8d26caa3" id="r_a4327f5a87fce86a37525485b8d26caa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4327f5a87fce86a37525485b8d26caa3">volume_free</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memitem:a34da44df52290f1745015140589ad212" id="r_a34da44df52290f1745015140589ad212"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34da44df52290f1745015140589ad212">volume_unlink</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="nad__rm_8c.html#a09f110e3fa5f7d885903f37852afe842">volume</a>)</td></tr>
<tr class="memitem:a1dd9d970666884e1c2d21d59cf204adf" id="r_a1dd9d970666884e1c2d21d59cf204adf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dd9d970666884e1c2d21d59cf204adf">getdefextmap</a> (void)</td></tr>
<tr class="memitem:a8243b97f092cadced0dfc7331a7ff689" id="r_a8243b97f092cadced0dfc7331a7ff689"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8243b97f092cadced0dfc7331a7ff689">getextmap</a> (const char *<a class="el" href="structpath.html">path</a>)</td></tr>
</table>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ac001e643f465d9fe85fe41e3cbc3428f" name="ac001e643f465d9fe85fe41e3cbc3428f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac001e643f465d9fe85fe41e3cbc3428f">&#9670;&#160;</a></span>afp_config_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void afp_config_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adb4aefcaa370e4e8ced949f9bd893f14" name="adb4aefcaa370e4e8ced949f9bd893f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb4aefcaa370e4e8ced949f9bd893f14">&#9670;&#160;</a></span>afp_config_parse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int afp_config_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>AFPObj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>processname</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize an <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> and options from ini config file </p>

</div>
</div>
<a id="a1dd9d970666884e1c2d21d59cf204adf" name="a1dd9d970666884e1c2d21d59cf204adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd9d970666884e1c2d21d59cf204adf">&#9670;&#160;</a></span>getdefextmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a> * getdefextmap </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8243b97f092cadced0dfc7331a7ff689" name="a8243b97f092cadced0dfc7331a7ff689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8243b97f092cadced0dfc7331a7ff689">&#9670;&#160;</a></span>getextmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a> * getextmap </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab955be2ccb9cf905ece60435a9fc7036" name="ab955be2ccb9cf905ece60435a9fc7036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab955be2ccb9cf905ece60435a9fc7036">&#9670;&#160;</a></span>getvolbyname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbyname </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a078796270be4438a00a963d87e8d332b" name="a078796270be4438a00a963d87e8d332b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078796270be4438a00a963d87e8d332b">&#9670;&#160;</a></span>getvolbypath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbypath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Search volume by path, creating user home vols as necessary</p>
<p>Path may be absolute or relative. Ordinary volume structs are created when the ini config is initially parsed (<a class="el" href="netatalk__conf_8c.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes()</a>), but user volumes are as <a class="el" href="netatalk__conf_8c.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes()</a> only can create the user volume of the logged in user in an AFP session in afpd, but not when called from e.g. cnid_metad or dbd. Both cnid_metad and dbd thus need a way to lookup and create struct vols for user home by path. This is what this func does as well.</p>
<p>(1) Search "normal" volume list (2) Check if theres a [Homes] section, <a class="el" href="netatalk__conf_8c.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes()</a> remembers this for us (3) If there is, match "path" with "basedir regex" to get the user home parent dir (4) Built user home path by appending the basedir matched in (3) and appending the username (5) The next path element then is the username (5b) <a class="el" href="netatalk__conf_8c.html#a078796270be4438a00a963d87e8d332b">getvolbypath()</a> assumes that the user home directory has the same name as the username. If that is not true, <a class="el" href="netatalk__conf_8c.html#a6d35900509d808ec3b422a0e5f8bbc6c">getuserbypath()</a> is called and tries to retrieve the username from the directory owner, checking its validity (6) Append [Homes]-&gt;path subdirectory if defined (7) Create volume</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>(rw) handle </td></tr>
    <tr><td class="paramname">path</td><td>(r) path, may be relative or absolute </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab18d17fd2ea484be1f561981fd1ba720" name="ab18d17fd2ea484be1f561981fd1ba720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab18d17fd2ea484be1f561981fd1ba720">&#9670;&#160;</a></span>getvolbyvid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbyvid </td>
          <td>(</td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>vid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac469454bc0d153324821952c87816bb4" name="ac469454bc0d153324821952c87816bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac469454bc0d153324821952c87816bb4">&#9670;&#160;</a></span>getvolumes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolumes </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d92d4ec9f9f0a8e165d39c10d9574cf" name="a2d92d4ec9f9f0a8e165d39c10d9574cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d92d4ec9f9f0a8e165d39c10d9574cf">&#9670;&#160;</a></span>load_charset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int load_charset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Load charsets for a volume </p>

</div>
</div>
<a id="aa051b28df16f69cdbffebc533455f4e7" name="aa051b28df16f69cdbffebc533455f4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa051b28df16f69cdbffebc533455f4e7">&#9670;&#160;</a></span>load_volumes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int load_volumes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2atalk_2volume_8h.html#a93895477a246ceefb8f62520711e425e">lv_flags_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize volumes and load ini configfile</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>(r) handle </td></tr>
    <tr><td class="paramname">flags</td><td>(r) flags controlling volume load behaviour: LV_DEFAULT: load shares in a user/session context, this honors authorisation LV_ALL: load shares that are available in the config file LV_FORCE: reload file even though the timestamp wasn't changed </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a95d5c38b0997be2581319b937878f63e" name="a95d5c38b0997be2581319b937878f63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d5c38b0997be2581319b937878f63e">&#9670;&#160;</a></span>unload_volumes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unload_volumes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4327f5a87fce86a37525485b8d26caa3" name="a4327f5a87fce86a37525485b8d26caa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4327f5a87fce86a37525485b8d26caa3">&#9670;&#160;</a></span>volume_free()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void volume_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free all resources allocated in a struct vol in <a class="el" href="netatalk__conf_8c.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes()</a></p>
<p>Actually opening a volume (<a class="el" href="volume_8c.html#a40cbf720c669c4788c33a937f843f788">afp_openvol()</a>) will allocate additional resources which are freed in <a class="el" href="nad_8h.html#a6c7050350fe59fbcfb81553ff4693589">closevol()</a> </p>

</div>
</div>
<a id="a34da44df52290f1745015140589ad212" name="a34da44df52290f1745015140589ad212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34da44df52290f1745015140589ad212">&#9670;&#160;</a></span>volume_unlink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void volume_unlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>volume</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove a volume from the linked list of volumes </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="dir_25f01871147423ebbadbe634d926f3ff.html">atalk</a></li><li class="navelem"><a href="netatalk__conf_8h.html">netatalk_conf.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
