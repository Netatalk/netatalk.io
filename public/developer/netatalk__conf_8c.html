<!-- HTML header for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: netatalk_conf.c File Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<script
    src="https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js"
    integrity="o+g/BxPwhi0C3RK7oQBxQuNimeafQ3GE/ST4iT2BxVI4Wzt60SH4pq9iXVYujjaS"
    crossorigin="anonymous"
></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectrow">
    <div id="projectlogo">
      <a href="/"><img alt="Logo" src="logo.png"/></a>
    </div>
    <div id="projectalign">
      <div id="projectname">
        netatalk
        <span id="projectnumber">&#160;4.4.0dev</span>
      </div>
      <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
    </div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('netatalk__conf_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">netatalk_conf.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;arpa/inet.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;grp.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;netinet/in.h&gt;</code><br />
<code>#include &lt;pwd.h&gt;</code><br />
<code>#include &lt;regex.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/file.h&gt;</code><br />
<code>#include &lt;sys/param.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &lt;utime.h&gt;</code><br />
<code>#include &lt;bstrlib.h&gt;</code><br />
<code>#include &lt;iniparser.h&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2atalk_2afp_8h_source.html">atalk/afp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2atalk_2util_8h_source.html">atalk/util.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="logger_8h_source.html">atalk/logger.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="ea_8h_source.html">atalk/ea.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="globals_8h_source.html">atalk/globals.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="iniparser__util_8h_source.html">atalk/iniparser_util.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="errchk_8h_source.html">atalk/errchk.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2atalk_2unix_8h_source.html">atalk/unix.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="cnid_8h_source.html">atalk/cnid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="include_2atalk_2dsi_8h_source.html">atalk/dsi.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="asp_8h_source.html">atalk/asp.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="uuid_8h_source.html">atalk/uuid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="netatalk__conf_8h_source.html">atalk/netatalk_conf.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab91cc2a6c06bfb6df64a4b4707e1ba62" id="r_ab91cc2a6c06bfb6df64a4b4707e1ba62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab91cc2a6c06bfb6df64a4b4707e1ba62">VOLPASSLEN</a>&#160;&#160;&#160;8</td></tr>
<tr class="memitem:a9d5521274aaf8d319997864bf6e3d961" id="r_a9d5521274aaf8d319997864bf6e3d961"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9d5521274aaf8d319997864bf6e3d961">UUID_PRINTABLE_STRING_LENGTH</a>&#160;&#160;&#160;37</td></tr>
<tr class="memitem:ab9fbdcd0a9373031b6aca48f403f2d87" id="r_ab9fbdcd0a9373031b6aca48f403f2d87"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab9fbdcd0a9373031b6aca48f403f2d87">IS_VAR</a>(a,  b)</td></tr>
<tr class="memitem:a612b667e5206323ce839173732e7f7bc" id="r_a612b667e5206323ce839173732e7f7bc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a612b667e5206323ce839173732e7f7bc">EABUFSZ</a>&#160;&#160;&#160;4</td></tr>
<tr class="memitem:a8b050dea5ffc9c8ab45775a5f70867df" id="r_a8b050dea5ffc9c8ab45775a5f70867df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8b050dea5ffc9c8ab45775a5f70867df">MAXPRESETLEN</a>&#160;&#160;&#160;100</td></tr>
<tr class="memitem:ac7129ccaa762fa4c6b07733faa0a16e0" id="r_ac7129ccaa762fa4c6b07733faa0a16e0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7129ccaa762fa4c6b07733faa0a16e0">MAXVAL</a>&#160;&#160;&#160;1024</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9c53b28525efdec497e5e572bfa4006e" id="r_a9c53b28525efdec497e5e572bfa4006e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c53b28525efdec497e5e572bfa4006e">rewrite_vol_uuid_conf</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="#ab6195f0fce873407cdc250f5b73bbfd0">Volumes</a>)</td></tr>
<tr class="memitem:a98e4d035419dcc6d93f543faf66b6ef8" id="r_a98e4d035419dcc6d93f543faf66b6ef8"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98e4d035419dcc6d93f543faf66b6ef8">get_vol_uuid</a> (const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const char *volname)</td></tr>
<tr class="memdesc:a98e4d035419dcc6d93f543faf66b6ef8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a volume's UUID from the config file.  <br /></td></tr>
<tr class="memitem:aa64a0aaa380f74b8e2b36a797d70ab2c" id="r_aa64a0aaa380f74b8e2b36a797d70ab2c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa64a0aaa380f74b8e2b36a797d70ab2c">do_check_ea_support</a> (const struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memdesc:aa64a0aaa380f74b8e2b36a797d70ab2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the underlying filesystem supports EAs.  <br /></td></tr>
<tr class="memitem:ac7680e27acaaac72fabd78f8e7e8d168" id="r_ac7680e27acaaac72fabd78f8e7e8d168"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7680e27acaaac72fabd78f8e7e8d168">check_ea_support</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memitem:a81c406ca6cb39227f31954c008ca1178" id="r_a81c406ca6cb39227f31954c008ca1178"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a81c406ca6cb39227f31954c008ca1178">check_vol_acl_support</a> (const struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memdesc:a81c406ca6cb39227f31954c008ca1178"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a volume supports ACLs.  <br /></td></tr>
<tr class="memitem:a1d8199207489c45ee6dd43826eafd007" id="r_a1d8199207489c45ee6dd43826eafd007"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d8199207489c45ee6dd43826eafd007">volxlate</a> (const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, char *dest, size_t destlen, const char *src, const struct passwd *pwd, const char *<a class="el" href="structpath.html">path</a>, const char *volname)</td></tr>
<tr class="memdesc:a1d8199207489c45ee6dd43826eafd007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle variable substitutions.  <br /></td></tr>
<tr class="memitem:a0c4f8e039667d0900ff17e8ce162a17f" id="r_a0c4f8e039667d0900ff17e8ce162a17f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0c4f8e039667d0900ff17e8ce162a17f">accessvol</a> (const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const char *<a class="el" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>, const char *name)</td></tr>
<tr class="memdesc:a0c4f8e039667d0900ff17e8ce162a17f"><td class="mdescLeft">&#160;</td><td class="mdescRight">check access list  <br /></td></tr>
<tr class="memitem:a433f8ba07ffecbed6150ed1e7300f205" id="r_a433f8ba07ffecbed6150ed1e7300f205"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a433f8ba07ffecbed6150ed1e7300f205">hostaccessvol</a> (const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const char *volname, const char *<a class="el" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>)</td></tr>
<tr class="memitem:aaa81c6cd48c648a38d79d0d118d91327" id="r_aaa81c6cd48c648a38d79d0d118d91327"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa81c6cd48c648a38d79d0d118d91327">getoption_str</a> (const dictionary *conf, const char *<a class="el" href="structvol.html">vol</a>, const char *opt, const char *defsec, const char *defval)</td></tr>
<tr class="memdesc:aaa81c6cd48c648a38d79d0d118d91327"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get option string from config, use default value if not set.  <br /></td></tr>
<tr class="memitem:a8f51f4b21349623593c0bc88135b8f24" id="r_a8f51f4b21349623593c0bc88135b8f24"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f51f4b21349623593c0bc88135b8f24">getoption_strdup</a> (const dictionary *conf, const char *<a class="el" href="structvol.html">vol</a>, const char *opt, const char *defsec, const char *defval)</td></tr>
<tr class="memdesc:a8f51f4b21349623593c0bc88135b8f24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get option string from config, use default value if not set.  <br /></td></tr>
<tr class="memitem:ae16bdcd3eee13d62b6dd7fd947f72187" id="r_ae16bdcd3eee13d62b6dd7fd947f72187"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae16bdcd3eee13d62b6dd7fd947f72187">getoption_bool</a> (const dictionary *conf, const char *<a class="el" href="structvol.html">vol</a>, const char *opt, const char *defsec, int defval)</td></tr>
<tr class="memdesc:ae16bdcd3eee13d62b6dd7fd947f72187"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get boolean option from config, use default value if not set.  <br /></td></tr>
<tr class="memitem:a0d03bf9c325c65624f3bf75f901fe476" id="r_a0d03bf9c325c65624f3bf75f901fe476"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0d03bf9c325c65624f3bf75f901fe476">getoption_int</a> (const dictionary *conf, const char *<a class="el" href="structvol.html">vol</a>, const char *opt, const char *defsec, int defval)</td></tr>
<tr class="memdesc:a0d03bf9c325c65624f3bf75f901fe476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get integer option from config, use default value if not set.  <br /></td></tr>
<tr class="memitem:a2c9cafea397f7163c725014d0bc6cff1" id="r_a2c9cafea397f7163c725014d0bc6cff1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c9cafea397f7163c725014d0bc6cff1">vdgoption_bool</a> (const dictionary *conf, const char *<a class="el" href="structvol.html">vol</a>, const char *opt, const char *defsec, int defval)</td></tr>
<tr class="memdesc:a2c9cafea397f7163c725014d0bc6cff1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get boolean option from volume, default section or global - use default value if not set.  <br /></td></tr>
<tr class="memitem:ac1e160d9d95acefa55f13e951b46a5a3" id="r_ac1e160d9d95acefa55f13e951b46a5a3"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac1e160d9d95acefa55f13e951b46a5a3">creatvol</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const struct passwd *pwd, const char *section, const char *name, const char *path_in, const char *preset)</td></tr>
<tr class="memdesc:ac1e160d9d95acefa55f13e951b46a5a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create volume struct.  <br /></td></tr>
<tr class="memitem:acddab6c45235686bf39a66e541acf0ca" id="r_acddab6c45235686bf39a66e541acf0ca"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acddab6c45235686bf39a66e541acf0ca">volfile_changed</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
<tr class="memitem:a46c172e30ae84d8bac2b62708886d2d1" id="r_a46c172e30ae84d8bac2b62708886d2d1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46c172e30ae84d8bac2b62708886d2d1">vol_section</a> (const char *sec)</td></tr>
<tr class="memitem:a1323f588695af431ebfaf85061ca6d96" id="r_a1323f588695af431ebfaf85061ca6d96"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1323f588695af431ebfaf85061ca6d96">readvolfile</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const struct passwd *pwent)</td></tr>
<tr class="memdesc:a1323f588695af431ebfaf85061ca6d96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read volumes from iniconfig and add the volumes contained within to the global volume list.  <br /></td></tr>
<tr class="memitem:ad3cd9aaaac1baee742b6c30ddb24c063" id="r_ad3cd9aaaac1baee742b6c30ddb24c063"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3cd9aaaac1baee742b6c30ddb24c063">setextmap</a> (char *ext, char *<a class="el" href="nad__cp_8c.html#ae8922bfd679bbcca93aea4ac02cf4234">type</a>, char *creator)</td></tr>
<tr class="memitem:a5c1fa6942f7269d9079b4bfd9d4b495e" id="r_a5c1fa6942f7269d9079b4bfd9d4b495e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c1fa6942f7269d9079b4bfd9d4b495e">extmap_cmp</a> (const void *map1, const void *map2)</td></tr>
<tr class="memitem:ae7590c1dbe5a630161dc7b0976e1e9e4" id="r_ae7590c1dbe5a630161dc7b0976e1e9e4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7590c1dbe5a630161dc7b0976e1e9e4">sortextmap</a> (void)</td></tr>
<tr class="memitem:a02d7922a1fb59b8955048748182769fe" id="r_a02d7922a1fb59b8955048748182769fe"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a02d7922a1fb59b8955048748182769fe">free_extmap</a> (void)</td></tr>
<tr class="memitem:a60a1dd21a087503ca1b8138719fcd7ac" id="r_a60a1dd21a087503ca1b8138719fcd7ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a60a1dd21a087503ca1b8138719fcd7ac">ext_cmp_key</a> (const void *<a class="el" href="hash_8c.html#ae57736c8a0ddeb64dc394712624d8209">key</a>, const void *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
<tr class="memitem:a8243b97f092cadced0dfc7331a7ff689" id="r_a8243b97f092cadced0dfc7331a7ff689"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8243b97f092cadced0dfc7331a7ff689">getextmap</a> (const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memitem:a1dd9d970666884e1c2d21d59cf204adf" id="r_a1dd9d970666884e1c2d21d59cf204adf"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1dd9d970666884e1c2d21d59cf204adf">getdefextmap</a> (void)</td></tr>
<tr class="memitem:a2a39e398df33bd070fca3c4102cd0bbe" id="r_a2a39e398df33bd070fca3c4102cd0bbe"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2a39e398df33bd070fca3c4102cd0bbe">readextmap</a> (const char *file)</td></tr>
<tr class="memitem:a34da44df52290f1745015140589ad212" id="r_a34da44df52290f1745015140589ad212"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34da44df52290f1745015140589ad212">volume_unlink</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="nad__rm_8c.html#a09f110e3fa5f7d885903f37852afe842">volume</a>)</td></tr>
<tr class="memitem:a4327f5a87fce86a37525485b8d26caa3" id="r_a4327f5a87fce86a37525485b8d26caa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4327f5a87fce86a37525485b8d26caa3">volume_free</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memdesc:a4327f5a87fce86a37525485b8d26caa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free all resources allocated in a struct vol in <a class="el" href="#aa051b28df16f69cdbffebc533455f4e7" title="Initialize volumes and load ini configfile.">load_volumes()</a>  <br /></td></tr>
<tr class="memitem:a2d92d4ec9f9f0a8e165d39c10d9574cf" id="r_a2d92d4ec9f9f0a8e165d39c10d9574cf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d92d4ec9f9f0a8e165d39c10d9574cf">load_charset</a> (struct <a class="el" href="structvol.html">vol</a> *<a class="el" href="structvol.html">vol</a>)</td></tr>
<tr class="memitem:aa051b28df16f69cdbffebc533455f4e7" id="r_aa051b28df16f69cdbffebc533455f4e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa051b28df16f69cdbffebc533455f4e7">load_volumes</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, <a class="el" href="include_2atalk_2volume_8h.html#a93895477a246ceefb8f62520711e425e">lv_flags_t</a> <a class="el" href="cmd__dbd_8c.html#a5b5dc5446eb7e7a502a06d67b7ea302c">flags</a>)</td></tr>
<tr class="memdesc:aa051b28df16f69cdbffebc533455f4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize volumes and load ini configfile.  <br /></td></tr>
<tr class="memitem:a95d5c38b0997be2581319b937878f63e" id="r_a95d5c38b0997be2581319b937878f63e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d5c38b0997be2581319b937878f63e">unload_volumes</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
<tr class="memitem:ac469454bc0d153324821952c87816bb4" id="r_ac469454bc0d153324821952c87816bb4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac469454bc0d153324821952c87816bb4">getvolumes</a> (void)</td></tr>
<tr class="memitem:af5f8748dd998b913a238dcd1d6600b0a" id="r_af5f8748dd998b913a238dcd1d6600b0a"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af5f8748dd998b913a238dcd1d6600b0a">getvolbyvid</a> (const uint16_t vid)</td></tr>
<tr class="memitem:a6d35900509d808ec3b422a0e5f8bbc6c" id="r_a6d35900509d808ec3b422a0e5f8bbc6c"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6d35900509d808ec3b422a0e5f8bbc6c">getuserbypath</a> (const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memdesc:a6d35900509d808ec3b422a0e5f8bbc6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">get username by path  <br /></td></tr>
<tr class="memitem:a078796270be4438a00a963d87e8d332b" id="r_a078796270be4438a00a963d87e8d332b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a078796270be4438a00a963d87e8d332b">getvolbypath</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memdesc:a078796270be4438a00a963d87e8d332b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search volume by path, creating user home vols as necessary.  <br /></td></tr>
<tr class="memitem:ab955be2ccb9cf905ece60435a9fc7036" id="r_ab955be2ccb9cf905ece60435a9fc7036"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab955be2ccb9cf905ece60435a9fc7036">getvolbyname</a> (const char *name)</td></tr>
<tr class="memitem:acbcfd852eb42810ca616b221bd359905" id="r_acbcfd852eb42810ca616b221bd359905"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acbcfd852eb42810ca616b221bd359905">afp_config_parse</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="struct_a_f_p_obj.html">AFPObj</a>, char *processname)</td></tr>
<tr class="memitem:ac001e643f465d9fe85fe41e3cbc3428f" id="r_ac001e643f465d9fe85fe41e3cbc3428f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac001e643f465d9fe85fe41e3cbc3428f">afp_config_free</a> (<a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *<a class="el" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a14c14a6e27a442c3d22d99bb44fe38ef" id="r_a14c14a6e27a442c3d22d99bb44fe38ef"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a14c14a6e27a442c3d22d99bb44fe38ef">have_uservol</a> = 0</td></tr>
<tr class="memitem:ab6195f0fce873407cdc250f5b73bbfd0" id="r_ab6195f0fce873407cdc250f5b73bbfd0"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structvol.html">vol</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab6195f0fce873407cdc250f5b73bbfd0">Volumes</a> = NULL</td></tr>
<tr class="memitem:a2d62dbf4a705b93d3420efdf7969813f" id="r_a2d62dbf4a705b93d3420efdf7969813f"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d62dbf4a705b93d3420efdf7969813f">lastvid</a> = 0</td></tr>
<tr class="memitem:ad7db3582dca0a1d1713d00d0b8f8bd42" id="r_ad7db3582dca0a1d1713d00d0b8f8bd42"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad7db3582dca0a1d1713d00d0b8f8bd42">Extmap</a> = NULL</td></tr>
<tr class="memitem:a3f7eaba4435e8e17faf31b3013278613" id="r_a3f7eaba4435e8e17faf31b3013278613"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structextmap.html">extmap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3f7eaba4435e8e17faf31b3013278613">Defextmap</a> = NULL</td></tr>
<tr class="memitem:a3a6b721d1e69c3f0f60afd355679451d" id="r_a3a6b721d1e69c3f0f60afd355679451d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a6b721d1e69c3f0f60afd355679451d">Extmap_cnt</a></td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a612b667e5206323ce839173732e7f7bc" name="a612b667e5206323ce839173732e7f7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a612b667e5206323ce839173732e7f7bc">&#9670;&#160;</a></span>EABUFSZ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EABUFSZ&#160;&#160;&#160;4</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab9fbdcd0a9373031b6aca48f403f2d87" name="ab9fbdcd0a9373031b6aca48f403f2d87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9fbdcd0a9373031b6aca48f403f2d87">&#9670;&#160;</a></span>IS_VAR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IS_VAR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(strncmp((a), (b), 2) == 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b050dea5ffc9c8ab45775a5f70867df" name="a8b050dea5ffc9c8ab45775a5f70867df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b050dea5ffc9c8ab45775a5f70867df">&#9670;&#160;</a></span>MAXPRESETLEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXPRESETLEN&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac7129ccaa762fa4c6b07733faa0a16e0" name="ac7129ccaa762fa4c6b07733faa0a16e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7129ccaa762fa4c6b07733faa0a16e0">&#9670;&#160;</a></span>MAXVAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAXVAL&#160;&#160;&#160;1024</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d5521274aaf8d319997864bf6e3d961" name="a9d5521274aaf8d319997864bf6e3d961"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d5521274aaf8d319997864bf6e3d961">&#9670;&#160;</a></span>UUID_PRINTABLE_STRING_LENGTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define UUID_PRINTABLE_STRING_LENGTH&#160;&#160;&#160;37</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab91cc2a6c06bfb6df64a4b4707e1ba62" name="ab91cc2a6c06bfb6df64a4b4707e1ba62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91cc2a6c06bfb6df64a4b4707e1ba62">&#9670;&#160;</a></span>VOLPASSLEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VOLPASSLEN&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a0c4f8e039667d0900ff17e8ce162a17f" name="a0c4f8e039667d0900ff17e8ce162a17f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c4f8e039667d0900ff17e8ce162a17f">&#9670;&#160;</a></span>accessvol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int accessvol </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check access list </p>
<p>this function wants a string consisting of names seperated by comma or space. Names may be quoted within a pair of quotes. Groups are denoted by a leading @ symbol.</p>
<p>Example: </p><div class="fragment"><div class="line">user1 user2, user3, @group1, @group2, @group3, <span class="stringliteral">&quot;user name1&quot;</span>, <span class="stringliteral">&quot;@group name1&quot;</span></div>
</div><!-- fragment --><p>A NULL argument allows everybody to have access.</p>
<dl class="section return"><dt>Returns</dt><dd>-1: no list </dd>
<dd>
0: list exists, but name isn't in it </dd>
<dd>
1: in list </dd></dl>

</div>
</div>
<a id="ac001e643f465d9fe85fe41e3cbc3428f" name="ac001e643f465d9fe85fe41e3cbc3428f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac001e643f465d9fe85fe41e3cbc3428f">&#9670;&#160;</a></span>afp_config_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void afp_config_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>get rid of any allocated afp_option buffers. </p>

</div>
</div>
<a id="acbcfd852eb42810ca616b221bd359905" name="acbcfd852eb42810ca616b221bd359905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbcfd852eb42810ca616b221bd359905">&#9670;&#160;</a></span>afp_config_parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int afp_config_parse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>AFPObj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>processname</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize an <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> and options from ini config file </p>

</div>
</div>
<a id="ac7680e27acaaac72fabd78f8e7e8d168" name="ac7680e27acaaac72fabd78f8e7e8d168"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7680e27acaaac72fabd78f8e7e8d168">&#9670;&#160;</a></span>check_ea_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void check_ea_support </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a81c406ca6cb39227f31954c008ca1178" name="a81c406ca6cb39227f31954c008ca1178"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81c406ca6cb39227f31954c008ca1178">&#9670;&#160;</a></span>check_vol_acl_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int check_vol_acl_support </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check whether a volume supports ACLs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if not, 1 if yes </dd></dl>

</div>
</div>
<a id="ac1e160d9d95acefa55f13e951b46a5a3" name="ac1e160d9d95acefa55f13e951b46a5a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e160d9d95acefa55f13e951b46a5a3">&#9670;&#160;</a></span>creatvol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * creatvol </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct passwd *</td>          <td class="paramname"><span class="paramname"><em>pwd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>section</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path_in</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>preset</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create volume struct. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pwd</td><td>struct passwd of logged in user, may be NULL in master afpd </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">section</td><td>volume name wo variables expanded (exactly as in iniconfig) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>volume name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path_in</td><td>volume path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">preset</td><td>default preset, may be NULL </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vol on success, NULL on error </dd></dl>

</div>
</div>
<a id="aa64a0aaa380f74b8e2b36a797d70ab2c" name="aa64a0aaa380f74b8e2b36a797d70ab2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64a0aaa380f74b8e2b36a797d70ab2c">&#9670;&#160;</a></span>do_check_ea_support()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int do_check_ea_support </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the underlying filesystem supports EAs. </p>
<p>If not, switch to ea=ad. As we can't check (requires write access) on ro-volumes, we assume ea=sys. </p>

</div>
</div>
<a id="a60a1dd21a087503ca1b8138719fcd7ac" name="a60a1dd21a087503ca1b8138719fcd7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60a1dd21a087503ca1b8138719fcd7ac">&#9670;&#160;</a></span>ext_cmp_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ext_cmp_key </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c1fa6942f7269d9079b4bfd9d4b495e" name="a5c1fa6942f7269d9079b4bfd9d4b495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1fa6942f7269d9079b4bfd9d4b495e">&#9670;&#160;</a></span>extmap_cmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int extmap_cmp </td>
          <td>(</td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>map1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *</td>          <td class="paramname"><span class="paramname"><em>map2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a02d7922a1fb59b8955048748182769fe" name="a02d7922a1fb59b8955048748182769fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02d7922a1fb59b8955048748182769fe">&#9670;&#160;</a></span>free_extmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void free_extmap </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a98e4d035419dcc6d93f543faf66b6ef8" name="a98e4d035419dcc6d93f543faf66b6ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98e4d035419dcc6d93f543faf66b6ef8">&#9670;&#160;</a></span>get_vol_uuid()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * get_vol_uuid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>volname</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a volume's UUID from the config file. </p>
<p>If there is none, it is generated and stored there.</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to allocated storage on success, NULL on error. </dd></dl>

</div>
</div>
<a id="a1dd9d970666884e1c2d21d59cf204adf" name="a1dd9d970666884e1c2d21d59cf204adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd9d970666884e1c2d21d59cf204adf">&#9670;&#160;</a></span>getdefextmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a> * getdefextmap </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8243b97f092cadced0dfc7331a7ff689" name="a8243b97f092cadced0dfc7331a7ff689"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8243b97f092cadced0dfc7331a7ff689">&#9670;&#160;</a></span>getextmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a> * getextmap </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae16bdcd3eee13d62b6dd7fd947f72187" name="ae16bdcd3eee13d62b6dd7fd947f72187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae16bdcd3eee13d62b6dd7fd947f72187">&#9670;&#160;</a></span>getoption_bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int getoption_bool </td>
          <td>(</td>
          <td class="paramtype">const dictionary *</td>          <td class="paramname"><span class="paramname"><em>conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defsec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get boolean option from config, use default value if not set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>config handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume name (must be section name i.e. wo vars expanded) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defsec</td><td>if "option" is not found in "vol", try to find it in section "defsec" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>if neither "vol" nor "defsec" contain "opt" return "defval"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const option string from "vol" or "defsec", or "defval" if not found </dd></dl>

</div>
</div>
<a id="a0d03bf9c325c65624f3bf75f901fe476" name="a0d03bf9c325c65624f3bf75f901fe476"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d03bf9c325c65624f3bf75f901fe476">&#9670;&#160;</a></span>getoption_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int getoption_int </td>
          <td>(</td>
          <td class="paramtype">const dictionary *</td>          <td class="paramname"><span class="paramname"><em>conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defsec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get integer option from config, use default value if not set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>config handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume name (must be section name i.e. wo vars expanded) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defsec</td><td>if "option" is not found in "vol", try to find it in section "defsec" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>if neither "vol" nor "defsec" contain "opt" return "defval"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int option from "vol" or "defsec", or "defval" if not found </dd></dl>

</div>
</div>
<a id="aaa81c6cd48c648a38d79d0d118d91327" name="aaa81c6cd48c648a38d79d0d118d91327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa81c6cd48c648a38d79d0d118d91327">&#9670;&#160;</a></span>getoption_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * getoption_str </td>
          <td>(</td>
          <td class="paramtype">const dictionary *</td>          <td class="paramname"><span class="paramname"><em>conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defsec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get option string from config, use default value if not set. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>config handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume name (must be section name i.e. wo vars expanded) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defsec</td><td>if "option" is not found in "vol", try to find it in section "defsec" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>if neither "vol" nor "defsec" contain "opt" return "defval"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const option string from "vol" or "defsec", or "defval" if not found </dd></dl>

</div>
</div>
<a id="a8f51f4b21349623593c0bc88135b8f24" name="a8f51f4b21349623593c0bc88135b8f24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f51f4b21349623593c0bc88135b8f24">&#9670;&#160;</a></span>getoption_strdup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * getoption_strdup </td>
          <td>(</td>
          <td class="paramtype">const dictionary *</td>          <td class="paramname"><span class="paramname"><em>conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defsec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get option string from config, use default value if not set. </p>
<p>Returns a dynamically allocated string which caller must free</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>config handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume name (must be section name i.e. wo vars expanded) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defsec</td><td>if "option" is not found in "vol", try to find it in section "defsec" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>if neither "vol" nor "defsec" contain "opt" return "defval"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>dynamically allocated option string from "vol" or "defsec", or "defval" if not found </dd></dl>

</div>
</div>
<a id="a6d35900509d808ec3b422a0e5f8bbc6c" name="a6d35900509d808ec3b422a0e5f8bbc6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d35900509d808ec3b422a0e5f8bbc6c">&#9670;&#160;</a></span>getuserbypath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * getuserbypath </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get username by path </p>
<p><a class="el" href="#a078796270be4438a00a963d87e8d332b" title="Search volume by path, creating user home vols as necessary.">getvolbypath()</a> assumes that the user home directory has the same name as the username. If that is not true, <a class="el" href="#a6d35900509d808ec3b422a0e5f8bbc6c" title="get username by path">getuserbypath()</a> is called and tries to retrieve the username from the directory owner, checking its validity.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>absolute volume path </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>NULL if no match is found, pointer to username if successful </dd></dl>

</div>
</div>
<a id="ab955be2ccb9cf905ece60435a9fc7036" name="ab955be2ccb9cf905ece60435a9fc7036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab955be2ccb9cf905ece60435a9fc7036">&#9670;&#160;</a></span>getvolbyname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbyname </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a078796270be4438a00a963d87e8d332b" name="a078796270be4438a00a963d87e8d332b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a078796270be4438a00a963d87e8d332b">&#9670;&#160;</a></span>getvolbypath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbypath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search volume by path, creating user home vols as necessary. </p>
<p>Path may be absolute or relative. Ordinary volume structs are created when the ini config is initially parsed (<a class="el" href="#aa051b28df16f69cdbffebc533455f4e7" title="Initialize volumes and load ini configfile.">load_volumes()</a>), but user volumes are as <a class="el" href="#aa051b28df16f69cdbffebc533455f4e7" title="Initialize volumes and load ini configfile.">load_volumes()</a> only can create the user volume of the logged in user in an AFP session in afpd, but not when called from e.g. cnid_metad or dbd. Both cnid_metad and dbd thus need a way to lookup and create struct vols for user home by path. This is what this func does as well.</p>
<ol type="1">
<li>Search "normal" volume list</li>
<li>Check if theres a [Homes] section, <a class="el" href="#aa051b28df16f69cdbffebc533455f4e7" title="Initialize volumes and load ini configfile.">load_volumes()</a> remembers this for us</li>
<li>If there is, match "path" with "basedir regex" to get the user home parent dir</li>
<li>Built user home path by appending the basedir matched in (3) and appending the username</li>
<li>The next path element then is the username<ul>
<li><a class="el" href="#a078796270be4438a00a963d87e8d332b" title="Search volume by path, creating user home vols as necessary.">getvolbypath()</a> assumes that the user home directory has the same name as the username. If that is not true, <a class="el" href="#a6d35900509d808ec3b422a0e5f8bbc6c" title="get username by path">getuserbypath()</a> is called and tries to retrieve the username from the directory owner, checking its validity</li>
</ul>
</li>
<li>Append [Homes]-&gt;path subdirectory if defined</li>
<li>Create volume</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">obj</td><td>handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path, may be relative or absolute </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af5f8748dd998b913a238dcd1d6600b0a" name="af5f8748dd998b913a238dcd1d6600b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5f8748dd998b913a238dcd1d6600b0a">&#9670;&#160;</a></span>getvolbyvid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolbyvid </td>
          <td>(</td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>vid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac469454bc0d153324821952c87816bb4" name="ac469454bc0d153324821952c87816bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac469454bc0d153324821952c87816bb4">&#9670;&#160;</a></span>getvolumes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a> * getvolumes </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a433f8ba07ffecbed6150ed1e7300f205" name="a433f8ba07ffecbed6150ed1e7300f205"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a433f8ba07ffecbed6150ed1e7300f205">&#9670;&#160;</a></span>hostaccessvol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int hostaccessvol </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>volname</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>args</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d92d4ec9f9f0a8e165d39c10d9574cf" name="a2d92d4ec9f9f0a8e165d39c10d9574cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d92d4ec9f9f0a8e165d39c10d9574cf">&#9670;&#160;</a></span>load_charset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_charset </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load charsets for a volume </p>

</div>
</div>
<a id="aa051b28df16f69cdbffebc533455f4e7" name="aa051b28df16f69cdbffebc533455f4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa051b28df16f69cdbffebc533455f4e7">&#9670;&#160;</a></span>load_volumes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int load_volumes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="include_2atalk_2volume_8h.html#a93895477a246ceefb8f62520711e425e">lv_flags_t</a></td>          <td class="paramname"><span class="paramname"><em>flags</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize volumes and load ini configfile. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">obj</td><td>handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>flags controlling volume load behaviour:<ul>
<li>LV_DEFAULT: load shares in a user/session context, this honors authorization</li>
<li>LV_ALL: load shares that are available in the config file</li>
<li>LV_FORCE: reload file even though the timestamp wasn't changed </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2a39e398df33bd070fca3c4102cd0bbe" name="a2a39e398df33bd070fca3c4102cd0bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a39e398df33bd070fca3c4102cd0bbe">&#9670;&#160;</a></span>readextmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int readextmap </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1323f588695af431ebfaf85061ca6d96" name="a1323f588695af431ebfaf85061ca6d96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1323f588695af431ebfaf85061ca6d96">&#9670;&#160;</a></span>readvolfile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int readvolfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct passwd *</td>          <td class="paramname"><span class="paramname"><em>pwent</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read volumes from iniconfig and add the volumes contained within to the global volume list. </p>
<p>This gets called from the forked afpd childs. The master now reads this too for Zeroconf announcements. </p>

</div>
</div>
<a id="a9c53b28525efdec497e5e572bfa4006e" name="a9c53b28525efdec497e5e572bfa4006e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c53b28525efdec497e5e572bfa4006e">&#9670;&#160;</a></span>rewrite_vol_uuid_conf()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rewrite_vol_uuid_conf </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>Volumes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad3cd9aaaac1baee742b6c30ddb24c063" name="ad3cd9aaaac1baee742b6c30ddb24c063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cd9aaaac1baee742b6c30ddb24c063">&#9670;&#160;</a></span>setextmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int setextmap </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>ext</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>creator</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae7590c1dbe5a630161dc7b0976e1e9e4" name="ae7590c1dbe5a630161dc7b0976e1e9e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7590c1dbe5a630161dc7b0976e1e9e4">&#9670;&#160;</a></span>sortextmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sortextmap </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a95d5c38b0997be2581319b937878f63e" name="a95d5c38b0997be2581319b937878f63e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d5c38b0997be2581319b937878f63e">&#9670;&#160;</a></span>unload_volumes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unload_volumes </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c9cafea397f7163c725014d0bc6cff1" name="a2c9cafea397f7163c725014d0bc6cff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c9cafea397f7163c725014d0bc6cff1">&#9670;&#160;</a></span>vdgoption_bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vdgoption_bool </td>
          <td>(</td>
          <td class="paramtype">const dictionary *</td>          <td class="paramname"><span class="paramname"><em>conf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>opt</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>defsec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>defval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get boolean option from volume, default section or global - use default value if not set. </p>
<p>Order of precedence: volume -&gt; default section -&gt; global -&gt; default value</p>
<p>"vdg" means volume, default section or global</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conf</td><td>config handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">vol</td><td>volume name (must be section name i.e. wo vars expanded) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">opt</td><td>option </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defsec</td><td>if "option" is not found in "vol", try to find it in section "defsec" </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">defval</td><td>if neither "vol" nor "defsec" contain "opt" return "defval"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const option string from "vol" or "defsec", or "defval" if not found </dd></dl>

</div>
</div>
<a id="a46c172e30ae84d8bac2b62708886d2d1" name="a46c172e30ae84d8bac2b62708886d2d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46c172e30ae84d8bac2b62708886d2d1">&#9670;&#160;</a></span>vol_section()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int vol_section </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>sec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="acddab6c45235686bf39a66e541acf0ca" name="acddab6c45235686bf39a66e541acf0ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acddab6c45235686bf39a66e541acf0ca">&#9670;&#160;</a></span>volfile_changed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int volfile_changed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4327f5a87fce86a37525485b8d26caa3" name="a4327f5a87fce86a37525485b8d26caa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4327f5a87fce86a37525485b8d26caa3">&#9670;&#160;</a></span>volume_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void volume_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>vol</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free all resources allocated in a struct vol in <a class="el" href="#aa051b28df16f69cdbffebc533455f4e7" title="Initialize volumes and load ini configfile.">load_volumes()</a> </p>
<p>Actually opening a volume (<a class="el" href="volume_8c.html#a1837c0cf5e1d8bd06791cf2afabcabd2">afp_openvol()</a>) will allocate additional resources which are freed in <a class="el" href="nad_8h.html#a6c7050350fe59fbcfb81553ff4693589">closevol()</a> </p>

</div>
</div>
<a id="a34da44df52290f1745015140589ad212" name="a34da44df52290f1745015140589ad212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34da44df52290f1745015140589ad212">&#9670;&#160;</a></span>volume_unlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void volume_unlink </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structvol.html">vol</a> *</td>          <td class="paramname"><span class="paramname"><em>volume</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Remove a volume from the linked list of volumes </p>

</div>
</div>
<a id="a1d8199207489c45ee6dd43826eafd007" name="a1d8199207489c45ee6dd43826eafd007"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d8199207489c45ee6dd43826eafd007">&#9670;&#160;</a></span>volxlate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * volxlate </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_a_f_p_obj.html">AFPObj</a> *</td>          <td class="paramname"><span class="paramname"><em>obj</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>destlen</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct passwd *</td>          <td class="paramname"><span class="paramname"><em>pwd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>volname</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle variable substitutions. </p>
<p>here's what we understand: </p><div class="fragment"><div class="line">$b   -&gt; basename of <a class="code hl_struct" href="structpath.html">path</a></div>
<div class="line">$c   -&gt; client ip/appletalk address</div>
<div class="line">$d   -&gt; <a class="code hl_variable" href="nad__rm_8c.html#a09f110e3fa5f7d885903f37852afe842">volume</a> pathname on <a class="code hl_struct" href="structserver.html">server</a></div>
<div class="line">$f   -&gt; full name (whatever<span class="stringliteral">&#39;s in the gecos field)</span></div>
<div class="line"><span class="stringliteral">$g   -&gt; group</span></div>
<div class="line"><span class="stringliteral">$h   -&gt; hostname</span></div>
<div class="line"><span class="stringliteral">$i   -&gt; client ip/appletalk address without port</span></div>
<div class="line"><span class="stringliteral">$s   -&gt; server name (hostname if it doesn&#39;</span>t exist)</div>
<div class="line">$u   -&gt; username (guest is usually nobody)</div>
<div class="line">$v   -&gt; <a class="code hl_variable" href="nad__rm_8c.html#a09f110e3fa5f7d885903f37852afe842">volume</a> name or basename <span class="keywordflow">if</span> null</div>
<div class="line">$$   -&gt; $</div>
<div class="ttc" id="anad__rm_8c_html_a09f110e3fa5f7d885903f37852afe842"><div class="ttname"><a href="nad__rm_8c.html#a09f110e3fa5f7d885903f37852afe842">volume</a></div><div class="ttdeci">static afpvol_t volume</div><div class="ttdef"><b>Definition</b> nad_rm.c:46</div></div>
<div class="ttc" id="astructpath_html"><div class="ttname"><a href="structpath.html">path</a></div><div class="ttdef"><b>Definition</b> include/atalk/directory.h:81</div></div>
<div class="ttc" id="astructserver_html"><div class="ttname"><a href="structserver.html">server</a></div><div class="ttdef"><b>Definition</b> cnid_metad.c:111</div></div>
</div><!-- fragment --><p>This get's called from readvolfile with </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structpath.html">path</a> = NULL, volname = NULL <span class="keywordflow">for</span> xlating the volumes <a class="code hl_struct" href="structpath.html">path</a></div>
<div class="line"><a class="code hl_struct" href="structpath.html">path</a> = <a class="code hl_struct" href="structpath.html">path</a>, volname = NULL <span class="keywordflow">for</span> xlating the volumes name</div>
<div class="line">... and from volumes options parsing code when xlating e.g. <a class="code hl_variable" href="etc_2cnid__dbd_2main_8c.html#a2e1879860bff0fb8da8105a1cb9c23a5">dbpath</a> with</div>
<div class="line"><a class="code hl_struct" href="structpath.html">path</a> = <a class="code hl_struct" href="structpath.html">path</a>, volname = volname</div>
<div class="ttc" id="aetc_2cnid__dbd_2main_8c_html_a2e1879860bff0fb8da8105a1cb9c23a5"><div class="ttname"><a href="etc_2cnid__dbd_2main_8c.html#a2e1879860bff0fb8da8105a1cb9c23a5">dbpath</a></div><div class="ttdeci">static bstring dbpath</div><div class="ttdef"><b>Definition</b> etc/cnid_dbd/main.c:48</div></div>
</div><!-- fragment --><p>Using this information we can reject xlation of any variable depeninding on a login context which is not given in the afp master, where we must evaluate this whole stuff too for the Zeroconf announcements. </p>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a3f7eaba4435e8e17faf31b3013278613" name="a3f7eaba4435e8e17faf31b3013278613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7eaba4435e8e17faf31b3013278613">&#9670;&#160;</a></span>Defextmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a> * Defextmap = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7db3582dca0a1d1713d00d0b8f8bd42" name="ad7db3582dca0a1d1713d00d0b8f8bd42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7db3582dca0a1d1713d00d0b8f8bd42">&#9670;&#160;</a></span>Extmap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structextmap.html">extmap</a>* Extmap = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3a6b721d1e69c3f0f60afd355679451d" name="a3a6b721d1e69c3f0f60afd355679451d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6b721d1e69c3f0f60afd355679451d">&#9670;&#160;</a></span>Extmap_cnt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Extmap_cnt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a14c14a6e27a442c3d22d99bb44fe38ef" name="a14c14a6e27a442c3d22d99bb44fe38ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14c14a6e27a442c3d22d99bb44fe38ef">&#9670;&#160;</a></span>have_uservol</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int have_uservol = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>whether there's generic user home share in config ("~" or "~/path", but not "~user") </p>

</div>
</div>
<a id="a2d62dbf4a705b93d3420efdf7969813f" name="a2d62dbf4a705b93d3420efdf7969813f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d62dbf4a705b93d3420efdf7969813f">&#9670;&#160;</a></span>lastvid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t lastvid = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab6195f0fce873407cdc250f5b73bbfd0" name="ab6195f0fce873407cdc250f5b73bbfd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6195f0fce873407cdc250f5b73bbfd0">&#9670;&#160;</a></span>Volumes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structvol.html">vol</a>* Volumes = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_f7a34ca911643fbe46878d1e60e6cd22.html">libatalk</a></li><li class="navelem"><a href="dir_fd3c2cd3d35bacf63a34461a663aaec2.html">util</a></li><li class="navelem"><a href="netatalk__conf_8c.html">netatalk_conf.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
