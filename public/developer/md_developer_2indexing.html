<!-- HTML header for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.15.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: Indexing for Spotlight Search</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<script
    src="https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js"
    integrity="sha384-o+g/BxPwhi0C3RK7oQBxQuNimeafQ3GE/ST4iT2BxVI4Wzt60SH4pq9iXVYujjaS"
    crossorigin="anonymous"
></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectrow">
    <div id="projectlogo">
      <a href="/"><img alt="Logo" src="logo.png"/></a>
    </div>
    <div id="projectalign">
      <div id="projectname">
        netatalk
        <span id="projectnumber">&#160;4.4.0</span>
      </div>
      <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
    </div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.15.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_developer_2indexing.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Indexing for Spotlight Search </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Starting with version 3.1 Netatalk supports Spotlight searching. Netatalk uses GNOME TinySPARQL/<a href="https://gnome.pages.gitlab.gnome.org/localsearch/">LocalSearch</a> (previously known as Tracker) as metadata store, indexer and search engine.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md39"></a>
Limitations and notes</h1>
<ul>
<li><p class="startli">Large filesystems</p>
<p class="startli">Tracker on Linux uses the inotify Kernel filesystem change event API for tracking filesystem changes. On large filesystems this may be problematic since the inotify API doesn't offer recursive directory watches but instead requires that for every subdirectory watches must be added individually.</p>
<p class="startli">On Solaris the FEN file event notification system is used. It is unknown which limitations and resource consumption this Solaris subsystem may have.</p>
<p class="startli">We therefore recommend to disable live filesystem monitoring and let Tracker periodically scan filesystems for changes instead, see the Tracker configuration options enable-monitors and crawling-interval below.</p>
</li>
<li><p class="startli">Indexing home directories</p>
<p class="startli">A known limitation with the current implementation means that shared volumes in a user's home directory does not get indexed by Spotlight.</p>
<p class="startli">As a workaround, keep the shared volumes you want to have indexed elsewhere on the host filesystem.</p>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md40"></a>
Supported metadata attributes</h1>
<p>The following table lists the supported Spotlight metadata attributes, based on Apple's <a href="https://developer.apple.com/documentation/coreservices/mditemref/">MDItem object</a> Core Services file metadata standard.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Description  </th><th class="markdownTableHeadNone">Spotlight Key  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Name  </td><td class="markdownTableBodyNone">kMDItemDisplayName, kMDItemFSName  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Document content (full text search)  </td><td class="markdownTableBodyNone">kMDItemTextContent  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">File type  </td><td class="markdownTableBodyNone">_kMDItemGroupId, kMDItemContentTypeTree  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">File modification date  </td><td class="markdownTableBodyNone">kMDItemFSContentChangeDate, kMDItemContentModificationDate, kMDItemAttributeChangeDate  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Content Creation date  </td><td class="markdownTableBodyNone">kMDItemContentCreationDate  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">The author, or authors, of the contents of the file  </td><td class="markdownTableBodyNone">kMDItemAuthors, kMDItemCreator  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">The name of the country where the item was created  </td><td class="markdownTableBodyNone">kMDItemCountry  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Duration  </td><td class="markdownTableBodyNone">kMDItemDurationSeconds  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Number of pages  </td><td class="markdownTableBodyNone">kMDItemNumberOfPages  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Document title  </td><td class="markdownTableBodyNone">kMDItemTitle  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">The width, in pixels, of the contents. For example, the image width or the video frame width  </td><td class="markdownTableBodyNone">kMDItemPixelWidth  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">The height, in pixels, of the contents. For example, the image height or the video frame height  </td><td class="markdownTableBodyNone">kMDItemPixelHeight  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">The color space model used by the document contents  </td><td class="markdownTableBodyNone">kMDItemColorSpace  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">The number of bits per sample  </td><td class="markdownTableBodyNone">kMDItemBitsPerSample  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Focal length of the lens, in millimeters  </td><td class="markdownTableBodyNone">kMDItemFocalLength  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ISO speed  </td><td class="markdownTableBodyNone">kMDItemISOSpeed  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Orientation of the document. Possible values are 0 (landscape) and 1 (portrait)  </td><td class="markdownTableBodyNone">kMDItemOrientation  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Resolution width, in DPI  </td><td class="markdownTableBodyNone">kMDItemResolutionWidthDPI  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Resolution height, in DPI  </td><td class="markdownTableBodyNone">kMDItemResolutionHeightDPI  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Exposure time, in seconds  </td><td class="markdownTableBodyNone">kMDItemExposureTimeSeconds  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">The composer of the music contained in the audio file  </td><td class="markdownTableBodyNone">kMDItemComposer  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">The musical genre of the song or composition  </td><td class="markdownTableBodyNone">kMDItemMusicalGenre  </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.15.0 </li>
  </ul>
</div>
</body>
</html>
