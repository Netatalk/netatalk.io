<!-- HTML header for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: util.h File Reference</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<script
    src="https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js"
    integrity="o+g/BxPwhi0C3RK7oQBxQuNimeafQ3GE/ST4iT2BxVI4Wzt60SH4pq9iXVYujjaS"
    crossorigin="anonymous"
></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectrow">
    <div id="projectlogo">
      <a href="/"><img alt="Logo" src="logo.png"/></a>
    </div>
    <div id="projectalign">
      <div id="projectname">
        netatalk
        <span id="projectnumber">&#160;4.4.0dev</span>
      </div>
      <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
    </div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('include_2atalk_2util_8h.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">util.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;poll.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;<a class="el" href="bstrlib_8h_source.html">bstrlib.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="at_8h_source.html">netatalk/at.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="cnid_8h_source.html">atalk/cnid.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="unicode_8h_source.html">atalk/unicode.h</a>&gt;</code><br />
</div>
<p><a href="include_2atalk_2util_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:asev_5Fdata" id="r_asev_5Fdata"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structasev__data.html">asev_data</a></td></tr>
<tr class="memitem:asev" id="r_asev"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structasev.html">asev</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7e4d06ce807555cbf49e39635ce4746b" id="r_a7e4d06ce807555cbf49e39635ce4746b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e4d06ce807555cbf49e39635ce4746b">RLIM_MAX</a>&#160;&#160;&#160;65535</td></tr>
<tr class="memitem:ad4f788f64a838c2c43974362187c2f3c" id="r_ad4f788f64a838c2c43974362187c2f3c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4f788f64a838c2c43974362187c2f3c">EXITERR_CLNT</a>&#160;&#160;&#160;1  /* client related error */</td></tr>
<tr class="memitem:aa974d9117bdb1deb7d31680913db8356" id="r_aa974d9117bdb1deb7d31680913db8356"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa974d9117bdb1deb7d31680913db8356">EXITERR_CONF</a>&#160;&#160;&#160;2  /* error in config files/cmd line parameters */</td></tr>
<tr class="memitem:a08eee5dac14cc0b8b7f28f08b02c4a8f" id="r_a08eee5dac14cc0b8b7f28f08b02c4a8f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08eee5dac14cc0b8b7f28f08b02c4a8f">EXITERR_SYS</a>&#160;&#160;&#160;3  /* local system error */</td></tr>
<tr class="memitem:a93bf6947c2d0908564654cc60dc13af2" id="r_a93bf6947c2d0908564654cc60dc13af2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a93bf6947c2d0908564654cc60dc13af2">EXITERR_CLOSED</a>&#160;&#160;&#160;4  /* <a class="el" href="structconnection.html">connection</a> was immediately closed after TCP handshake */</td></tr>
<tr class="memitem:a8678357239ebcf11b9221b8bc5f0e62a" id="r_a8678357239ebcf11b9221b8bc5f0e62a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8678357239ebcf11b9221b8bc5f0e62a">AFP_PANIC</a>(why)</td></tr>
<tr class="memitem:a4e9b900bff140247037e72eedeac0cd4" id="r_a4e9b900bff140247037e72eedeac0cd4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4e9b900bff140247037e72eedeac0cd4">AFP_ASSERT</a>(b)</td></tr>
<tr class="memitem:a3acffbd305ee72dcd4593c0d8af64a4f" id="r_a3acffbd305ee72dcd4593c0d8af64a4f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3acffbd305ee72dcd4593c0d8af64a4f">MIN</a>(a,  b)</td></tr>
<tr class="memitem:afa99ec4acc4ecb2dc3c2d05da15d0e3f" id="r_afa99ec4acc4ecb2dc3c2d05da15d0e3f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(a,  b)</td></tr>
<tr class="memitem:a5249745dc0473c78c23812881e9430b0" id="r_a5249745dc0473c78c23812881e9430b0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5249745dc0473c78c23812881e9430b0">STRCMP</a>(a,  b,  c)</td></tr>
<tr class="memitem:a016c809db7cdc36a041471e9dd445a88" id="r_a016c809db7cdc36a041471e9dd445a88"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a016c809db7cdc36a041471e9dd445a88">ZERO_STRUCT</a>(a)</td></tr>
<tr class="memitem:a22e027e14439b1fe3ffbab1cd33bd63a" id="r_a22e027e14439b1fe3ffbab1cd33bd63a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22e027e14439b1fe3ffbab1cd33bd63a">ZERO_STRUCTP</a>(a)</td></tr>
<tr class="memitem:abc3afb1d08885fc11076985ce06e27ef" id="r_abc3afb1d08885fc11076985ce06e27ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc3afb1d08885fc11076985ce06e27ef">hton64</a>(x)</td></tr>
<tr class="memitem:aaf585d610d5f8adb46a60e787a68ca3d" id="r_aaf585d610d5f8adb46a60e787a68ca3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf585d610d5f8adb46a60e787a68ca3d">ntoh64</a>(x)</td></tr>
<tr class="memitem:aed3129b7674034c979192bcca6b0ad8c" id="r_aed3129b7674034c979192bcca6b0ad8c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed3129b7674034c979192bcca6b0ad8c">SAFE_FREE</a>(x)</td></tr>
<tr class="memitem:a475de966e3e860459e0c05ff3c1bcb7d" id="r_a475de966e3e860459e0c05ff3c1bcb7d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a475de966e3e860459e0c05ff3c1bcb7d">diatolower</a>(x)</td></tr>
<tr class="memitem:a44370b3fe4dd525a7a202ffb01a28458" id="r_a44370b3fe4dd525a7a202ffb01a28458"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a44370b3fe4dd525a7a202ffb01a28458">diatoupper</a>(x)</td></tr>
<tr class="memitem:a69646d42feec4c37ca8f12c7cc6c417f" id="r_a69646d42feec4c37ca8f12c7cc6c417f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a69646d42feec4c37ca8f12c7cc6c417f">server_unlock</a>(x)</td></tr>
<tr class="memitem:a473929f7d1fe0f457b16da66e69a3dcc" id="r_a473929f7d1fe0f457b16da66e69a3dcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a473929f7d1fe0f457b16da66e69a3dcc">mod_error</a>()</td></tr>
<tr class="memitem:a991df84e1583da786e368435b9bc59a6" id="r_a991df84e1583da786e368435b9bc59a6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a991df84e1583da786e368435b9bc59a6">strequal</a>(a,  b)</td></tr>
<tr class="memitem:a101b6412bf1aef59d8e68327aadf8aed" id="r_a101b6412bf1aef59d8e68327aadf8aed"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a101b6412bf1aef59d8e68327aadf8aed">cfrombstr</a>(b)</td></tr>
<tr class="memitem:ab4cdf3b96fbf596e8966aa1603282a41" id="r_ab4cdf3b96fbf596e8966aa1603282a41"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4cdf3b96fbf596e8966aa1603282a41">BSTRING_STRIP_SLASH</a>(a)</td></tr>
<tr class="memitem:af3fd37d69e7035b61796f211cc74d329" id="r_af3fd37d69e7035b61796f211cc74d329"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af3fd37d69e7035b61796f211cc74d329">read_lock</a>(fd,  offset,  whence,  len)</td></tr>
<tr class="memdesc:af3fd37d69e7035b61796f211cc74d329"><td class="mdescLeft">&#160;</td><td class="mdescRight">place read lock on file  <br /></td></tr>
<tr class="memitem:a38e68ca5822fa748ff9b8971a17ee4a9" id="r_a38e68ca5822fa748ff9b8971a17ee4a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38e68ca5822fa748ff9b8971a17ee4a9">write_lock</a>(fd,  offset,  whence,  len)</td></tr>
<tr class="memdesc:a38e68ca5822fa748ff9b8971a17ee4a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">place write lock on file  <br /></td></tr>
<tr class="memitem:aa8bef19a0b52f4d4fcc1b414fb50d318" id="r_aa8bef19a0b52f4d4fcc1b414fb50d318"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa8bef19a0b52f4d4fcc1b414fb50d318">unlock</a>(fd,  offset,  whence,  len)</td></tr>
<tr class="memdesc:aa8bef19a0b52f4d4fcc1b414fb50d318"><td class="mdescLeft">&#160;</td><td class="mdescRight">unlock a file  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a49cf568515560e546c50ea9cc363d122" id="r_a49cf568515560e546c50ea9cc363d122"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49cf568515560e546c50ea9cc363d122">asev_fdtype</a> { <a class="el" href="#a49cf568515560e546c50ea9cc363d122ad18ea456815827ea584f97fb7787877a">IPC_FD</a>
, <a class="el" href="#a49cf568515560e546c50ea9cc363d122ae19372db00d211a20d46222604bc16d2">LISTEN_FD</a>
 }</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad4d87b30be4a0662bd341c7ac8735d24" id="r_ad4d87b30be4a0662bd341c7ac8735d24"><td class="memItemLeft" align="right" valign="top">char **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4d87b30be4a0662bd341c7ac8735d24">getifacelist</a> (void)</td></tr>
<tr class="memitem:a080fd079be56d28ecf20993c67a80a9b" id="r_a080fd079be56d28ecf20993c67a80a9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a080fd079be56d28ecf20993c67a80a9b">freeifacelist</a> (char **)</td></tr>
<tr class="memitem:af84b1b7ecd3f64230bf3781a65323036" id="r_af84b1b7ecd3f64230bf3781a65323036"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af84b1b7ecd3f64230bf3781a65323036">atalk_aton</a> (char *, struct <a class="el" href="structat__addr.html">at_addr</a> *)</td></tr>
<tr class="memitem:acb02fce9e422858b883ba1b87b962635" id="r_acb02fce9e422858b883ba1b87b962635"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb02fce9e422858b883ba1b87b962635">bprint</a> (char *, int)</td></tr>
<tr class="memitem:a6b4598af89ce13142b213c34e49fecb2" id="r_a6b4598af89ce13142b213c34e49fecb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b4598af89ce13142b213c34e49fecb2">strdiacasecmp</a> (const char *, const char *)</td></tr>
<tr class="memitem:af7ffc14b49fe31b5155adca59a523eb2" id="r_af7ffc14b49fe31b5155adca59a523eb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af7ffc14b49fe31b5155adca59a523eb2">strndiacasecmp</a> (const char *, const char *, size_t)</td></tr>
<tr class="memitem:a2b60abbbd7780a7d26478b918e208a48" id="r_a2b60abbbd7780a7d26478b918e208a48"><td class="memItemLeft" align="right" valign="top">pid_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2b60abbbd7780a7d26478b918e208a48">server_lock</a> (char *, char *, int)</td></tr>
<tr class="memitem:ac9938f3ac5793f48a20b40a9d99c761f" id="r_ac9938f3ac5793f48a20b40a9d99c761f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9938f3ac5793f48a20b40a9d99c761f">check_lockfile</a> (const char *program, const char *<a class="el" href="etc_2atalkd_2main_8c.html#a9319f4233d0597188c3119f4dc7b3f0f">pidfile</a>)</td></tr>
<tr class="memitem:a9a4e61d9a074881adcf845bd284ca9d9" id="r_a9a4e61d9a074881adcf845bd284ca9d9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a4e61d9a074881adcf845bd284ca9d9">create_lockfile</a> (const char *program, const char *<a class="el" href="etc_2atalkd_2main_8c.html#a9319f4233d0597188c3119f4dc7b3f0f">pidfile</a>)</td></tr>
<tr class="memitem:ac93b5a75558bfbc3ba02fd9341bf705a" id="r_ac93b5a75558bfbc3ba02fd9341bf705a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac93b5a75558bfbc3ba02fd9341bf705a">fault_setup</a> (void(*fn)(void *))</td></tr>
<tr class="memitem:ac573483c955b58625b0361d190bd0def" id="r_ac573483c955b58625b0361d190bd0def"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac573483c955b58625b0361d190bd0def">netatalk_panic</a> (const char *why)</td></tr>
<tr class="memitem:aa981e3041a522fb416cd8b1a5ef2b2d6" id="r_aa981e3041a522fb416cd8b1a5ef2b2d6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa981e3041a522fb416cd8b1a5ef2b2d6">mod_open</a> (const char *)</td></tr>
<tr class="memitem:a7cc8b66bf3af5773036a84023f4c6ec6" id="r_a7cc8b66bf3af5773036a84023f4c6ec6"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cc8b66bf3af5773036a84023f4c6ec6">mod_symbol</a> (void *, const char *)</td></tr>
<tr class="memitem:ae8bd839fd185d132c78f4adff9a6b182" id="r_ae8bd839fd185d132c78f4adff9a6b182"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae8bd839fd185d132c78f4adff9a6b182">mod_close</a> (void *)</td></tr>
<tr class="memitem:a4ab0e28b73047bfea6b7f02ae5527bab" id="r_a4ab0e28b73047bfea6b7f02ae5527bab"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ab0e28b73047bfea6b7f02ae5527bab">lock_reg</a> (int fd, int cmd, int <a class="el" href="nad__cp_8c.html#ae8922bfd679bbcca93aea4ac02cf4234">type</a>, off_t offest, int whence, off_t len)</td></tr>
<tr class="memdesc:a4ab0e28b73047bfea6b7f02ae5527bab"><td class="mdescLeft">&#160;</td><td class="mdescRight">lock a file with fctnl  <br /></td></tr>
<tr class="memitem:afc08abc318ec657fed2938d72854b0db" id="r_afc08abc318ec657fed2938d72854b0db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc08abc318ec657fed2938d72854b0db">setnonblock</a> (int fd, int cmd)</td></tr>
<tr class="memdesc:afc08abc318ec657fed2938d72854b0db"><td class="mdescLeft">&#160;</td><td class="mdescRight">set or unset non-blocking IO on a fd  <br /></td></tr>
<tr class="memitem:a1725a600b8e4bf87748b54f4ea37b1f2" id="r_a1725a600b8e4bf87748b54f4ea37b1f2"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1725a600b8e4bf87748b54f4ea37b1f2">readt</a> (int socket, void *<a class="el" href="hash_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a>, const size_t length, int setnonblocking, int timeout)</td></tr>
<tr class="memitem:ae2d02957f53e178b7cd1f83cef6c8379" id="r_ae2d02957f53e178b7cd1f83cef6c8379"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2d02957f53e178b7cd1f83cef6c8379">writet</a> (int socket, void *<a class="el" href="hash_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a>, const size_t length, int setnonblocking, int timeout)</td></tr>
<tr class="memitem:a1bed6f0917db55c430f48cb998bbc92d" id="r_a1bed6f0917db55c430f48cb998bbc92d"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bed6f0917db55c430f48cb998bbc92d">getip_string</a> (const struct sockaddr *<a class="el" href="appl_8c.html#aecc9aae410e8a74515e139045478bbb5">sa</a>)</td></tr>
<tr class="memdesc:a1bed6f0917db55c430f48cb998bbc92d"><td class="mdescLeft">&#160;</td><td class="mdescRight">convert an IPv4 or IPv6 address to a static string using inet_ntop  <br /></td></tr>
<tr class="memitem:a76337cb0069f84b38a436ae0c7d886bd" id="r_a76337cb0069f84b38a436ae0c7d886bd"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76337cb0069f84b38a436ae0c7d886bd">getip_port</a> (const struct sockaddr *<a class="el" href="appl_8c.html#aecc9aae410e8a74515e139045478bbb5">sa</a>)</td></tr>
<tr class="memdesc:a76337cb0069f84b38a436ae0c7d886bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">return port number from struct sockaddr  <br /></td></tr>
<tr class="memitem:ab926f62a0e80d257aef6300b942bdcf9" id="r_ab926f62a0e80d257aef6300b942bdcf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab926f62a0e80d257aef6300b942bdcf9">apply_ip_mask</a> (struct sockaddr *ai, int maskbits)</td></tr>
<tr class="memdesc:ab926f62a0e80d257aef6300b942bdcf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">apply netmask to IP (v4 or v6)  <br /></td></tr>
<tr class="memitem:a4995bc1b8c67102a5cf5d36f2f4eaedf" id="r_a4995bc1b8c67102a5cf5d36f2f4eaedf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4995bc1b8c67102a5cf5d36f2f4eaedf">compare_ip</a> (const struct sockaddr *sa1, const struct sockaddr *sa2)</td></tr>
<tr class="memdesc:a4995bc1b8c67102a5cf5d36f2f4eaedf"><td class="mdescLeft">&#160;</td><td class="mdescRight">compare IP addresses for equality  <br /></td></tr>
<tr class="memitem:a6639de1eb1eaad095e3612d03eb17c1b" id="r_a6639de1eb1eaad095e3612d03eb17c1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6639de1eb1eaad095e3612d03eb17c1b">tokenize_ip_port</a> (const char *ipurl, char **address, char **<a class="el" href="pap_8c.html#ac89e2c19de60b8f23bdd3789b2af094d">port</a>)</td></tr>
<tr class="memitem:a89ecc05c47ace160dbf3d012df3404b0" id="r_a89ecc05c47ace160dbf3d012df3404b0"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structasev.html">asev</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89ecc05c47ace160dbf3d012df3404b0">asev_init</a> (int max)</td></tr>
<tr class="memitem:a752a1a75255a7790491b64548cef350c" id="r_a752a1a75255a7790491b64548cef350c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a752a1a75255a7790491b64548cef350c">asev_add_fd</a> (struct <a class="el" href="structasev.html">asev</a> *sev, int fd, enum <a class="el" href="#a49cf568515560e546c50ea9cc363d122">asev_fdtype</a> fdtype, void *private, int protocol)</td></tr>
<tr class="memitem:af74797a43f98081da688908dee28cc26" id="r_af74797a43f98081da688908dee28cc26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af74797a43f98081da688908dee28cc26">asev_del_fd</a> (struct <a class="el" href="structasev.html">asev</a> *sev, int fd)</td></tr>
<tr class="memitem:abaeb6c0ea9882e50e387cc4bb8edd00b" id="r_abaeb6c0ea9882e50e387cc4bb8edd00b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abaeb6c0ea9882e50e387cc4bb8edd00b">send_fd</a> (int socket, int fd)</td></tr>
<tr class="memitem:af32134bd62d1e48eb57310a8d5fc5404" id="r_af32134bd62d1e48eb57310a8d5fc5404"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af32134bd62d1e48eb57310a8d5fc5404">recv_fd</a> (int fd, int nonblocking)</td></tr>
<tr class="memitem:a1db4bee5fe8d20344de599be7cdc591c" id="r_a1db4bee5fe8d20344de599be7cdc591c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1db4bee5fe8d20344de599be7cdc591c">getcwdpath</a> (void)</td></tr>
<tr class="memdesc:a1db4bee5fe8d20344de599be7cdc591c"><td class="mdescLeft">&#160;</td><td class="mdescRight">get cwd in static buffer  <br /></td></tr>
<tr class="memitem:a6a4b38355d441fa79597eebcb89daf79" id="r_a6a4b38355d441fa79597eebcb89daf79"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a4b38355d441fa79597eebcb89daf79">fullpathname</a> (const char *)</td></tr>
<tr class="memdesc:a6a4b38355d441fa79597eebcb89daf79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request absolute path.  <br /></td></tr>
<tr class="memitem:a34763dcda0093297fce36aad07ac64e6" id="r_a34763dcda0093297fce36aad07ac64e6"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34763dcda0093297fce36aad07ac64e6">stripped_slashes_basename</a> (char *<a class="el" href="uams__dhx2__pam_8c.html#a49c6a1596dbb420280d9aa047ecc4c31">p</a>)</td></tr>
<tr class="memitem:aefde7f9f477f2f182845eee2663363f7" id="r_aefde7f9f477f2f182845eee2663363f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aefde7f9f477f2f182845eee2663363f7">randombytes</a> (void *<a class="el" href="afppasswd_8c.html#a72dff57571064f4e3546a2bf18e1147d">buf</a>, int n)</td></tr>
<tr class="memitem:ac07150628d4bd483b1f3f43c2350c80b" id="r_ac07150628d4bd483b1f3f43c2350c80b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac07150628d4bd483b1f3f43c2350c80b">daemonize</a> (void)</td></tr>
<tr class="memitem:aa0c145c2be4be8dfb51359f295c79708" id="r_aa0c145c2be4be8dfb51359f295c79708"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0c145c2be4be8dfb51359f295c79708">run_cmd</a> (const char *cmd, char **cmd_argv)</td></tr>
<tr class="memitem:a5a34db058713ee9086a16f7f5f981082" id="r_a5a34db058713ee9086a16f7f5f981082"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5a34db058713ee9086a16f7f5f981082">realpath_safe</a> (const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memitem:abe14028da3f858d72b056cd958b89607" id="r_abe14028da3f858d72b056cd958b89607"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe14028da3f858d72b056cd958b89607">basename_safe</a> (const char *<a class="el" href="structpath.html">path</a>)</td></tr>
<tr class="memitem:a7b98011d737b8b3bc282951555f3f287" id="r_a7b98011d737b8b3bc282951555f3f287"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b98011d737b8b3bc282951555f3f287">strtok_quote</a> (char *s, const char *delim)</td></tr>
<tr class="memitem:a0a2fa46e0cef80809cd77873559868ff" id="r_a0a2fa46e0cef80809cd77873559868ff"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a2fa46e0cef80809cd77873559868ff">tmpdir</a> (void)</td></tr>
<tr class="memitem:a5c01f97ac47d90ccf6a00ab540ce702d" id="r_a5c01f97ac47d90ccf6a00ab540ce702d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c01f97ac47d90ccf6a00ab540ce702d">ochdir</a> (const char *<a class="el" href="structdir.html">dir</a>, int options)</td></tr>
<tr class="memdesc:a5c01f97ac47d90ccf6a00ab540ce702d"><td class="mdescLeft">&#160;</td><td class="mdescRight">symlink safe chdir replacement  <br /></td></tr>
<tr class="memitem:a5c2b2b5ff8cd8921f74350b382a23d0c" id="r_a5c2b2b5ff8cd8921f74350b382a23d0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c2b2b5ff8cd8921f74350b382a23d0c">ostat</a> (const char *<a class="el" href="structpath.html">path</a>, struct stat *<a class="el" href="afppasswd_8c.html#a72dff57571064f4e3546a2bf18e1147d">buf</a>, int options)</td></tr>
<tr class="memitem:aba71ee1225cc8faf2997c1cdf542d7f6" id="r_aba71ee1225cc8faf2997c1cdf542d7f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba71ee1225cc8faf2997c1cdf542d7f6">ostatat</a> (int dirfd, const char *<a class="el" href="structpath.html">path</a>, struct stat *st, int options)</td></tr>
<tr class="memitem:a4689e229e35ba860cd4acd3f19e0b1b1" id="r_a4689e229e35ba860cd4acd3f19e0b1b1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4689e229e35ba860cd4acd3f19e0b1b1">ochown</a> (const char *<a class="el" href="structpath.html">path</a>, uid_t owner, gid_t group, int options)</td></tr>
<tr class="memitem:a3537baf3b2b1e9eb9013690c3a7f8488" id="r_a3537baf3b2b1e9eb9013690c3a7f8488"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3537baf3b2b1e9eb9013690c3a7f8488">ochmod</a> (char *<a class="el" href="structpath.html">path</a>, mode_t mode, const struct stat *st, int options)</td></tr>
<tr class="memitem:a2ed50bf96a3179dba7ce4fea0229f161" id="r_a2ed50bf96a3179dba7ce4fea0229f161"><td class="memItemLeft" align="right" valign="top"><a class="el" href="bstrlib_8h.html#a7ee510452ae810b71268dfa7b39a3712">bstring</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ed50bf96a3179dba7ce4fea0229f161">rel_path_in_vol</a> (const char *<a class="el" href="structpath.html">path</a>, const char *volpath)</td></tr>
<tr class="memitem:acc5e34d9d4ff3cbad83b2b5bc5d9bbb7" id="r_acc5e34d9d4ff3cbad83b2b5bc5d9bbb7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="adouble_8h.html#aef0c7a006ff504f92f04b55e14c27422">cnid_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acc5e34d9d4ff3cbad83b2b5bc5d9bbb7">cnid_for_path</a> (struct <a class="el" href="struct__cnid__db.html">_cnid_db</a> *cdb, const char *volpath, const char *<a class="el" href="structpath.html">path</a>, <a class="el" href="adouble_8h.html#aef0c7a006ff504f92f04b55e14c27422">cnid_t</a> *<a class="el" href="nad__cp_8c.html#a39466504497f1ab95465d7daf62514c1">did</a>)</td></tr>
<tr class="memitem:ac65b6ebd1c4479dee2bb4120e1b747b1" id="r_ac65b6ebd1c4479dee2bb4120e1b747b1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac65b6ebd1c4479dee2bb4120e1b747b1">initline</a> (int, char *)</td></tr>
<tr class="memitem:a25a0733c503ef8f93abf18fe8cb87006" id="r_a25a0733c503ef8f93abf18fe8cb87006"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25a0733c503ef8f93abf18fe8cb87006">parseline</a> (int, char *)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7246b8cf397827283ab798d5b56f0b0c" id="r_a7246b8cf397827283ab798d5b56f0b0c"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7246b8cf397827283ab798d5b56f0b0c">_diacasemap</a> []</td></tr>
<tr class="memitem:a4ab05d39ff1faad524c790fb0c879452" id="r_a4ab05d39ff1faad524c790fb0c879452"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4ab05d39ff1faad524c790fb0c879452">_dialowermap</a> []</td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Netatalk utility functions</p>
<p>Utility functions for these areas: <br  />
</p><ul>
<li>sockets <br  />
</li>
<li>locking <br  />
</li>
<li>misc UNIX function wrappers, e.g. for getcwd </li>
</ul>
</div><a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a4e9b900bff140247037e72eedeac0cd4" name="a4e9b900bff140247037e72eedeac0cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e9b900bff140247037e72eedeac0cd4">&#9670;&#160;</a></span>AFP_ASSERT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AFP_ASSERT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                                                \</div>
<div class="line">        if (!(b)) {                                                     \</div>
<div class="line">            AFP_PANIC(#b);                                              \</div>
<div class="line">        } \</div>
<div class="line">    } <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8678357239ebcf11b9221b8bc5f0e62a" name="a8678357239ebcf11b9221b8bc5f0e62a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8678357239ebcf11b9221b8bc5f0e62a">&#9670;&#160;</a></span>AFP_PANIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define AFP_PANIC</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>why</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                            \</div>
<div class="line">        netatalk_panic(why);                        \</div>
<div class="line">        abort();                                    \</div>
<div class="line">    } <span class="keywordflow">while</span>(0);</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4cdf3b96fbf596e8966aa1603282a41" name="ab4cdf3b96fbf596e8966aa1603282a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4cdf3b96fbf596e8966aa1603282a41">&#9670;&#160;</a></span>BSTRING_STRIP_SLASH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BSTRING_STRIP_SLASH</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <span class="keywordflow">do</span> {                                            \</div>
<div class="line">        while (<a class="code hl_define" href="bstrlib_8h.html#a7d5203b5518eb6a79911185ad22fad42">bchar</a>((a), <a class="code hl_define" href="bstrlib_8h.html#a462176ab60e31a2ead1b575b50b1124d">blength</a>(a) - 1) == <span class="charliteral">&#39;/&#39;</span>)   \</div>
<div class="line">            bdelete((a), <a class="code hl_define" href="bstrlib_8h.html#a462176ab60e31a2ead1b575b50b1124d">blength</a>(a) - 1, 1);        \</div>
<div class="line">    } <span class="keywordflow">while</span> (0);</div>
<div class="ttc" id="abstrlib_8h_html_a462176ab60e31a2ead1b575b50b1124d"><div class="ttname"><a href="bstrlib_8h.html#a462176ab60e31a2ead1b575b50b1124d">blength</a></div><div class="ttdeci">#define blength(b)</div><div class="ttdef"><b>Definition</b> bstrlib.h:1427</div></div>
<div class="ttc" id="abstrlib_8h_html_a7d5203b5518eb6a79911185ad22fad42"><div class="ttname"><a href="bstrlib_8h.html#a7d5203b5518eb6a79911185ad22fad42">bchar</a></div><div class="ttdeci">#define bchar(b, p)</div><div class="ttdef"><b>Definition</b> bstrlib.h:1481</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a101b6412bf1aef59d8e68327aadf8aed" name="a101b6412bf1aef59d8e68327aadf8aed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a101b6412bf1aef59d8e68327aadf8aed">&#9670;&#160;</a></span>cfrombstr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define cfrombstr</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((<span class="keywordtype">char</span> *)((b)-&gt;<a class="code hl_define" href="hash_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a>))</div>
<div class="ttc" id="ahash_8c_html_a43a278d13284fb3412e9eee1db1d967e"><div class="ttname"><a href="hash_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a></div><div class="ttdeci">#define data</div><div class="ttdef"><b>Definition</b> hash.c:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a475de966e3e860459e0c05ff3c1bcb7d" name="a475de966e3e860459e0c05ff3c1bcb7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475de966e3e860459e0c05ff3c1bcb7d">&#9670;&#160;</a></span>diatolower</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define diatolower</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_variable" href="#a4ab05d39ff1faad524c790fb0c879452">_dialowermap</a>[(<span class="keywordtype">unsigned</span> char) (x)]</div>
<div class="ttc" id="ainclude_2atalk_2util_8h_html_a4ab05d39ff1faad524c790fb0c879452"><div class="ttname"><a href="#a4ab05d39ff1faad524c790fb0c879452">_dialowermap</a></div><div class="ttdeci">const int _dialowermap[]</div><div class="ttdef"><b>Definition</b> include/atalk/util.h:91</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a44370b3fe4dd525a7a202ffb01a28458" name="a44370b3fe4dd525a7a202ffb01a28458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44370b3fe4dd525a7a202ffb01a28458">&#9670;&#160;</a></span>diatoupper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define diatoupper</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_variable" href="#a7246b8cf397827283ab798d5b56f0b0c">_diacasemap</a>[(<span class="keywordtype">unsigned</span> char) (x)]</div>
<div class="ttc" id="ainclude_2atalk_2util_8h_html_a7246b8cf397827283ab798d5b56f0b0c"><div class="ttname"><a href="#a7246b8cf397827283ab798d5b56f0b0c">_diacasemap</a></div><div class="ttdeci">const int _diacasemap[]</div><div class="ttdef"><b>Definition</b> strdicasecmp.c:7</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4f788f64a838c2c43974362187c2f3c" name="ad4f788f64a838c2c43974362187c2f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4f788f64a838c2c43974362187c2f3c">&#9670;&#160;</a></span>EXITERR_CLNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXITERR_CLNT&#160;&#160;&#160;1  /* client related error */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a93bf6947c2d0908564654cc60dc13af2" name="a93bf6947c2d0908564654cc60dc13af2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bf6947c2d0908564654cc60dc13af2">&#9670;&#160;</a></span>EXITERR_CLOSED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXITERR_CLOSED&#160;&#160;&#160;4  /* <a class="el" href="structconnection.html">connection</a> was immediately closed after TCP handshake */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa974d9117bdb1deb7d31680913db8356" name="aa974d9117bdb1deb7d31680913db8356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa974d9117bdb1deb7d31680913db8356">&#9670;&#160;</a></span>EXITERR_CONF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXITERR_CONF&#160;&#160;&#160;2  /* error in config files/cmd line parameters */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a08eee5dac14cc0b8b7f28f08b02c4a8f" name="a08eee5dac14cc0b8b7f28f08b02c4a8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08eee5dac14cc0b8b7f28f08b02c4a8f">&#9670;&#160;</a></span>EXITERR_SYS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EXITERR_SYS&#160;&#160;&#160;3  /* local system error */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abc3afb1d08885fc11076985ce06e27ef" name="abc3afb1d08885fc11076985ce06e27ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc3afb1d08885fc11076985ce06e27ef">&#9670;&#160;</a></span>hton64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define hton64</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                         ((uint64_t) (htonl(((x) &gt;&gt; 32) &amp; 0xffffffffLL)) | \</div>
<div class="line">                         (uint64_t) ((htonl(x) &amp; 0xffffffffLL) &lt;&lt; 32))</div>
</div><!-- fragment -->
</div>
</div>
<a id="afa99ec4acc4ecb2dc3c2d05da15d0e3f" name="afa99ec4acc4ecb2dc3c2d05da15d0e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa99ec4acc4ecb2dc3c2d05da15d0e3f">&#9670;&#160;</a></span>MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((a) &gt; (b) ? (a) : (b))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3acffbd305ee72dcd4593c0d8af64a4f" name="a3acffbd305ee72dcd4593c0d8af64a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3acffbd305ee72dcd4593c0d8af64a4f">&#9670;&#160;</a></span>MIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIN</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">((a) &lt; (b) ? (a) : (b))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a473929f7d1fe0f457b16da66e69a3dcc" name="a473929f7d1fe0f457b16da66e69a3dcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a473929f7d1fe0f457b16da66e69a3dcc">&#9670;&#160;</a></span>mod_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mod_error</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="stringliteral">&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf585d610d5f8adb46a60e787a68ca3d" name="aaf585d610d5f8adb46a60e787a68ca3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf585d610d5f8adb46a60e787a68ca3d">&#9670;&#160;</a></span>ntoh64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ntoh64</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code hl_define" href="#abc3afb1d08885fc11076985ce06e27ef">hton64</a>(x))</div>
<div class="ttc" id="ainclude_2atalk_2util_8h_html_abc3afb1d08885fc11076985ce06e27ef"><div class="ttname"><a href="#abc3afb1d08885fc11076985ce06e27ef">hton64</a></div><div class="ttdeci">#define hton64(x)</div><div class="ttdef"><b>Definition</b> include/atalk/util.h:77</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3fd37d69e7035b61796f211cc74d329" name="af3fd37d69e7035b61796f211cc74d329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3fd37d69e7035b61796f211cc74d329">&#9670;&#160;</a></span>read_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define read_lock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>whence</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="#a4ab0e28b73047bfea6b7f02ae5527bab">lock_reg</a>((fd), F_SETLK, F_RDLCK, (offset), (whence), (len))</div>
<div class="ttc" id="ainclude_2atalk_2util_8h_html_a4ab0e28b73047bfea6b7f02ae5527bab"><div class="ttname"><a href="#a4ab0e28b73047bfea6b7f02ae5527bab">lock_reg</a></div><div class="ttdeci">int lock_reg(int fd, int cmd, int type, off_t offest, int whence, off_t len)</div><div class="ttdoc">lock a file with fctnl</div><div class="ttdef"><b>Definition</b> locking.c:86</div></div>
</div><!-- fragment -->
<p>place read lock on file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) File descriptor </td></tr>
    <tr><td class="paramname">offset</td><td>(r) byte offset relative to l_whence </td></tr>
    <tr><td class="paramname">whence</td><td>(r) SEEK_SET, SEEK_CUR, SEEK_END </td></tr>
    <tr><td class="paramname">len</td><td>(r) no. of bytes (0 means to EOF)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure with fcntl return value and errno </dd></dl>

</div>
</div>
<a id="a7e4d06ce807555cbf49e39635ce4746b" name="a7e4d06ce807555cbf49e39635ce4746b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e4d06ce807555cbf49e39635ce4746b">&#9670;&#160;</a></span>RLIM_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RLIM_MAX&#160;&#160;&#160;65535</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed3129b7674034c979192bcca6b0ad8c" name="aed3129b7674034c979192bcca6b0ad8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed3129b7674034c979192bcca6b0ad8c">&#9670;&#160;</a></span>SAFE_FREE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAFE_FREE</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { <span class="keywordflow">if</span> ((x) != NULL) {free(x); x=NULL;} } <span class="keywordflow">while</span>(0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a69646d42feec4c37ca8f12c7cc6c417f" name="a69646d42feec4c37ca8f12c7cc6c417f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69646d42feec4c37ca8f12c7cc6c417f">&#9670;&#160;</a></span>server_unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define server_unlock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>x</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(unlink(x))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5249745dc0473c78c23812881e9430b0" name="a5249745dc0473c78c23812881e9430b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5249745dc0473c78c23812881e9430b0">&#9670;&#160;</a></span>STRCMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STRCMP</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>c</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(strcmp(a,c) b 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a991df84e1583da786e368435b9bc59a6" name="a991df84e1583da786e368435b9bc59a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991df84e1583da786e368435b9bc59a6">&#9670;&#160;</a></span>strequal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define strequal</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>b</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(strcmp((a),(b)) == 0)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8bef19a0b52f4d4fcc1b414fb50d318" name="aa8bef19a0b52f4d4fcc1b414fb50d318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8bef19a0b52f4d4fcc1b414fb50d318">&#9670;&#160;</a></span>unlock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define unlock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>whence</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="#a4ab0e28b73047bfea6b7f02ae5527bab">lock_reg</a>((fd), F_SETLK, F_UNLCK, (offset), (whence), (len))</div>
</div><!-- fragment -->
<p>unlock a file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) File descriptor </td></tr>
    <tr><td class="paramname">offset</td><td>(r) byte offset relative to l_whence </td></tr>
    <tr><td class="paramname">whence</td><td>(r) SEEK_SET, SEEK_CUR, SEEK_END </td></tr>
    <tr><td class="paramname">len</td><td>(r) no. of bytes (0 means to EOF)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure with fcntl return value and errno </dd></dl>

</div>
</div>
<a id="a38e68ca5822fa748ff9b8971a17ee4a9" name="a38e68ca5822fa748ff9b8971a17ee4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38e68ca5822fa748ff9b8971a17ee4a9">&#9670;&#160;</a></span>write_lock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define write_lock</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>whence</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    <a class="code hl_function" href="#a4ab0e28b73047bfea6b7f02ae5527bab">lock_reg</a>((fd), F_SETLK, F_WRLCK, (offset), (whence), (len))</div>
</div><!-- fragment -->
<p>place write lock on file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) File descriptor </td></tr>
    <tr><td class="paramname">offset</td><td>(r) byte offset relative to l_whence </td></tr>
    <tr><td class="paramname">whence</td><td>(r) SEEK_SET, SEEK_CUR, SEEK_END </td></tr>
    <tr><td class="paramname">len</td><td>(r) no. of bytes (0 means to EOF)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure with fcntl return value and errno </dd></dl>

</div>
</div>
<a id="a016c809db7cdc36a041471e9dd445a88" name="a016c809db7cdc36a041471e9dd445a88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a016c809db7cdc36a041471e9dd445a88">&#9670;&#160;</a></span>ZERO_STRUCT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZERO_STRUCT</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">memset(&amp;(a), 0, <span class="keyword">sizeof</span>(a))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a22e027e14439b1fe3ffbab1cd33bd63a" name="a22e027e14439b1fe3ffbab1cd33bd63a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e027e14439b1fe3ffbab1cd33bd63a">&#9670;&#160;</a></span>ZERO_STRUCTP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ZERO_STRUCTP</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">memset((a), 0, <span class="keyword">sizeof</span>(a))</div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-enum-members" id="doc-enum-members"></a><h2 id="header-doc-enum-members" class="groupheader">Enumeration Type Documentation</h2>
<a id="a49cf568515560e546c50ea9cc363d122" name="a49cf568515560e546c50ea9cc363d122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49cf568515560e546c50ea9cc363d122">&#9670;&#160;</a></span>asev_fdtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a49cf568515560e546c50ea9cc363d122">asev_fdtype</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a49cf568515560e546c50ea9cc363d122ad18ea456815827ea584f97fb7787877a" name="a49cf568515560e546c50ea9cc363d122ad18ea456815827ea584f97fb7787877a"></a>IPC_FD&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a49cf568515560e546c50ea9cc363d122ae19372db00d211a20d46222604bc16d2" name="a49cf568515560e546c50ea9cc363d122ae19372db00d211a20d46222604bc16d2"></a>LISTEN_FD&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ab926f62a0e80d257aef6300b942bdcf9" name="ab926f62a0e80d257aef6300b942bdcf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab926f62a0e80d257aef6300b942bdcf9">&#9670;&#160;</a></span>apply_ip_mask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void apply_ip_mask </td>
          <td>(</td>
          <td class="paramtype">struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>sa</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>apply netmask to IP (v4 or v6) </p>
<p>Modifies IP address in sa-&gt;sin[6]_addr-s[6]_addr. The caller is responsible for passing a value for mask that is sensible to the passed address, e.g. 0 &lt;= mask &lt;= 32 for IPv4 or 0&lt;= mask &lt;= 128 for IPv6. mask &gt; 32 for IPv4 is treated as mask = 32, mask &gt; 128 is set to 128 for IPv6.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>(rw) pointer to an struct sockaddr </td></tr>
    <tr><td class="paramname">mask</td><td>(r) number of maskbits </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a752a1a75255a7790491b64548cef350c" name="a752a1a75255a7790491b64548cef350c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752a1a75255a7790491b64548cef350c">&#9670;&#160;</a></span>asev_add_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool asev_add_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structasev.html">asev</a> *</td>          <td class="paramname"><span class="paramname"><em>asev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum <a class="el" href="#a49cf568515560e546c50ea9cc363d122">asev_fdtype</a></td>          <td class="paramname"><span class="paramname"><em>fdtype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>private</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>protocol</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add a fd to a dynamic pollfd array and associated data array</p>
<p>This uses an additional array of struct polldata which stores type information (enum fdtype) and a pointer to anciliary user data. </p>

</div>
</div>
<a id="af74797a43f98081da688908dee28cc26" name="af74797a43f98081da688908dee28cc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af74797a43f98081da688908dee28cc26">&#9670;&#160;</a></span>asev_del_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool asev_del_fd </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structasev.html">asev</a> *</td>          <td class="paramname"><span class="paramname"><em>asev</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove fd from asev</p>
<dl class="section return"><dt>Returns</dt><dd>true if the fd was deleted, otherwise false </dd></dl>

</div>
</div>
<a id="a89ecc05c47ace160dbf3d012df3404b0" name="a89ecc05c47ace160dbf3d012df3404b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89ecc05c47ace160dbf3d012df3404b0">&#9670;&#160;</a></span>asev_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structasev.html">asev</a> * asev_init </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>max</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Allocate and initialize atalk socket event struct </p>

</div>
</div>
<a id="af84b1b7ecd3f64230bf3781a65323036" name="af84b1b7ecd3f64230bf3781a65323036"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af84b1b7ecd3f64230bf3781a65323036">&#9670;&#160;</a></span>atalk_aton()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int atalk_aton </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>cp</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structat__addr.html">at_addr</a> *</td>          <td class="paramname"><span class="paramname"><em>addr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abe14028da3f858d72b056cd958b89607" name="abe14028da3f858d72b056cd958b89607"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe14028da3f858d72b056cd958b89607">&#9670;&#160;</a></span>basename_safe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * basename_safe </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns pointer to static buffer with basename of path </p>

</div>
</div>
<a id="acb02fce9e422858b883ba1b87b962635" name="acb02fce9e422858b883ba1b87b962635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb02fce9e422858b883ba1b87b962635">&#9670;&#160;</a></span>bprint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bprint </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9938f3ac5793f48a20b40a9d99c761f" name="ac9938f3ac5793f48a20b40a9d99c761f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9938f3ac5793f48a20b40a9d99c761f">&#9670;&#160;</a></span>check_lockfile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int check_lockfile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>program</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pidfile</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check lockfile </p>

</div>
</div>
<a id="acc5e34d9d4ff3cbad83b2b5bc5d9bbb7" name="acc5e34d9d4ff3cbad83b2b5bc5d9bbb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5e34d9d4ff3cbad83b2b5bc5d9bbb7">&#9670;&#160;</a></span>cnid_for_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="adouble_8h.html#aef0c7a006ff504f92f04b55e14c27422">cnid_t</a> cnid_for_path </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="struct__cnid__db.html">_cnid_db</a> *</td>          <td class="paramname"><span class="paramname"><em>cdb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>volpath</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="adouble_8h.html#aef0c7a006ff504f92f04b55e14c27422">cnid_t</a> *</td>          <td class="paramname"><span class="paramname"><em>did</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Resolves CNID of a given path</p>
<p>path might be: (a) relative: "dir/subdir" with cwd: "/afp_volume/topdir" (b) absolute: "/afp_volume/dir/subdir"</p>
<p>path MUST be pointing inside vol, this is usually the case as vol has been build from path using loadvolinfo and friends.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cdb</td><td>(r) CNID db handle </td></tr>
    <tr><td class="paramname">volpath</td><td>(r) UNIX path of volume </td></tr>
    <tr><td class="paramname">path</td><td>(r) path, see above </td></tr>
    <tr><td class="paramname">did</td><td>(w) parent CNID of returned CNID</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CNID of path </dd></dl>

</div>
</div>
<a id="a4995bc1b8c67102a5cf5d36f2f4eaedf" name="a4995bc1b8c67102a5cf5d36f2f4eaedf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4995bc1b8c67102a5cf5d36f2f4eaedf">&#9670;&#160;</a></span>compare_ip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int compare_ip </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>sa1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>sa2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>compare IP addresses for equality </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa1</td><td>(r) pointer to an struct sockaddr </td></tr>
    <tr><td class="paramname">sa2</td><td>(r) pointer to an struct sockaddr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Addresses are converted to strings and compared with strcmp and the result of strcmp is returned.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>IPv6 mapped IPv4 addresses are treated as IPv4 addresses. </dd></dl>

</div>
</div>
<a id="a9a4e61d9a074881adcf845bd284ca9d9" name="a9a4e61d9a074881adcf845bd284ca9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a4e61d9a074881adcf845bd284ca9d9">&#9670;&#160;</a></span>create_lockfile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int create_lockfile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>program</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pidfile</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Check and create lockfile </p>

</div>
</div>
<a id="ac07150628d4bd483b1f3f43c2350c80b" name="ac07150628d4bd483b1f3f43c2350c80b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac07150628d4bd483b1f3f43c2350c80b">&#9670;&#160;</a></span>daemonize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int daemonize </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Daemonize</p>
<p>Fork, exit parent, setsid(), chdir("/"), close all fds</p>
<p>returns -1 on failure, but you can't do much except exit in that case since we may already have forked </p>

</div>
</div>
<a id="ac93b5a75558bfbc3ba02fd9341bf705a" name="ac93b5a75558bfbc3ba02fd9341bf705a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac93b5a75558bfbc3ba02fd9341bf705a">&#9670;&#160;</a></span>fault_setup()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void fault_setup </td>
          <td>(</td>
          <td class="paramtype">void(*</td>          <td class="paramname"><span class="paramname"><em>fn&#160;</em></span>)(void *)</td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a080fd079be56d28ecf20993c67a80a9b" name="a080fd079be56d28ecf20993c67a80a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080fd079be56d28ecf20993c67a80a9b">&#9670;&#160;</a></span>freeifacelist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void freeifacelist </td>
          <td>(</td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>ifacelist</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a4b38355d441fa79597eebcb89daf79" name="a6a4b38355d441fa79597eebcb89daf79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a4b38355d441fa79597eebcb89daf79">&#9670;&#160;</a></span>fullpathname()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * fullpathname </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Request absolute path. </p>
<dl class="section return"><dt>Returns</dt><dd>Absolute filesystem path to object </dd></dl>

</div>
</div>
<a id="a1db4bee5fe8d20344de599be7cdc591c" name="a1db4bee5fe8d20344de599be7cdc591c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db4bee5fe8d20344de599be7cdc591c">&#9670;&#160;</a></span>getcwdpath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * getcwdpath </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>get cwd in static buffer </p>
<dl class="section return"><dt>Returns</dt><dd>pointer to path or pointer to error messages on error </dd></dl>

</div>
</div>
<a id="ad4d87b30be4a0662bd341c7ac8735d24" name="ad4d87b30be4a0662bd341c7ac8735d24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d87b30be4a0662bd341c7ac8735d24">&#9670;&#160;</a></span>getifacelist()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char ** getifacelist </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a76337cb0069f84b38a436ae0c7d886bd" name="a76337cb0069f84b38a436ae0c7d886bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76337cb0069f84b38a436ae0c7d886bd">&#9670;&#160;</a></span>getip_port()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int getip_port </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>sa</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>return port number from struct sockaddr </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>(r) pointer to an struct sockaddr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>port as unsigned int </dd></dl>

</div>
</div>
<a id="a1bed6f0917db55c430f48cb998bbc92d" name="a1bed6f0917db55c430f48cb998bbc92d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bed6f0917db55c430f48cb998bbc92d">&#9670;&#160;</a></span>getip_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * getip_string </td>
          <td>(</td>
          <td class="paramtype">const struct sockaddr *</td>          <td class="paramname"><span class="paramname"><em>sa</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>convert an IPv4 or IPv6 address to a static string using inet_ntop </p>
<p>IPv6 mapped IPv4 addresses are returned as IPv4 addreses e.g. ::ffff:10.0.0.0 is returned as "10.0.0.0".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sa</td><td>(r) pointer to an struct sockaddr</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to a static string cotaining the converted address as string.<br  />
 On error pointers to "0.0.0.0" or "::0" are returned. </dd></dl>

</div>
</div>
<a id="ac65b6ebd1c4479dee2bb4120e1b747b1" name="ac65b6ebd1c4479dee2bb4120e1b747b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac65b6ebd1c4479dee2bb4120e1b747b1">&#9670;&#160;</a></span>initline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void initline </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>line</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ab0e28b73047bfea6b7f02ae5527bab" name="a4ab0e28b73047bfea6b7f02ae5527bab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab0e28b73047bfea6b7f02ae5527bab">&#9670;&#160;</a></span>lock_reg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int lock_reg </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t</td>          <td class="paramname"><span class="paramname"><em>offset</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>whence</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">off_t</td>          <td class="paramname"><span class="paramname"><em>len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>lock a file with fctnl </p>
<p>This function is called via the macros: read_lock, write_lock, un_lock</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) File descriptor </td></tr>
    <tr><td class="paramname">cmd</td><td>(r) cmd to fcntl, only F_SETLK is usable here </td></tr>
    <tr><td class="paramname">type</td><td>(r) F_RDLCK, F_WRLCK, F_UNLCK </td></tr>
    <tr><td class="paramname">offset</td><td>(r) byte offset relative to l_whence </td></tr>
    <tr><td class="paramname">whence</td><td>(r) SEEK_SET, SEEK_CUR, SEEK_END </td></tr>
    <tr><td class="paramname">len</td><td>(r) no. of bytes (0 means to EOF)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure with fcntl return value and errno</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#af3fd37d69e7035b61796f211cc74d329" title="place read lock on file">read_lock</a>, <a class="el" href="#a38e68ca5822fa748ff9b8971a17ee4a9" title="place write lock on file">write_lock</a>, <a class="el" href="#aa8bef19a0b52f4d4fcc1b414fb50d318" title="unlock a file">unlock</a> </dd></dl>

</div>
</div>
<a id="ae8bd839fd185d132c78f4adff9a6b182" name="ae8bd839fd185d132c78f4adff9a6b182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8bd839fd185d132c78f4adff9a6b182">&#9670;&#160;</a></span>mod_close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void mod_close </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa981e3041a522fb416cd8b1a5ef2b2d6" name="aa981e3041a522fb416cd8b1a5ef2b2d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa981e3041a522fb416cd8b1a5ef2b2d6">&#9670;&#160;</a></span>mod_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * mod_open </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7cc8b66bf3af5773036a84023f4c6ec6" name="a7cc8b66bf3af5773036a84023f4c6ec6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc8b66bf3af5773036a84023f4c6ec6">&#9670;&#160;</a></span>mod_symbol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * mod_symbol </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em></em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac573483c955b58625b0361d190bd0def" name="ac573483c955b58625b0361d190bd0def"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac573483c955b58625b0361d190bd0def">&#9670;&#160;</a></span>netatalk_panic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void netatalk_panic </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>why</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c01f97ac47d90ccf6a00ab540ce702d" name="a5c01f97ac47d90ccf6a00ab540ce702d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c01f97ac47d90ccf6a00ab540ce702d">&#9670;&#160;</a></span>ochdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ochdir </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>dir</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>symlink safe chdir replacement </p>
<p>Only chdirs to dir if it doesn't contain symlinks or if symlink checking is disabled</p>
<dl class="section return"><dt>Returns</dt><dd>1 if a path element is a symlink, 0 otherwise, -1 on syserror </dd></dl>

</div>
</div>
<a id="a3537baf3b2b1e9eb9013690c3a7f8488" name="a3537baf3b2b1e9eb9013690c3a7f8488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3537baf3b2b1e9eb9013690c3a7f8488">&#9670;&#160;</a></span>ochmod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ochmod </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mode_t</td>          <td class="paramname"><span class="paramname"><em>mode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const struct stat *</td>          <td class="paramname"><span class="paramname"><em>st</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>chmod() wrapper for symlink and ACL handling</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>(r) path </td></tr>
    <tr><td class="paramname">mode</td><td>(r) requested mode </td></tr>
    <tr><td class="paramname">st</td><td>(r) stat() of path or NULL </td></tr>
    <tr><td class="paramname">options</td><td>(r) O_NOFOLLOW | O_NETATALK_ACL</td></tr>
  </table>
  </dd>
</dl>
<p>Options description: O_NOFOLLOW: don't chmod() symlinks, do nothing, return 0 O_NETATALK_ACL: call <a class="el" href="acl_8h.html#a7185fda25b1479981f200898f3a3e4cd">chmod_acl()</a> instead of chmod() O_IGNORE: ignore chmod() request, directly return 0 </p>

</div>
</div>
<a id="a4689e229e35ba860cd4acd3f19e0b1b1" name="a4689e229e35ba860cd4acd3f19e0b1b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4689e229e35ba860cd4acd3f19e0b1b1">&#9670;&#160;</a></span>ochown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ochown </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t</td>          <td class="paramname"><span class="paramname"><em>owner</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gid_t</td>          <td class="paramname"><span class="paramname"><em>group</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5c2b2b5ff8cd8921f74350b382a23d0c" name="a5c2b2b5ff8cd8921f74350b382a23d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c2b2b5ff8cd8921f74350b382a23d0c">&#9670;&#160;</a></span>ostat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ostat </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aba71ee1225cc8faf2997c1cdf542d7f6" name="aba71ee1225cc8faf2997c1cdf542d7f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba71ee1225cc8faf2997c1cdf542d7f6">&#9670;&#160;</a></span>ostatat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ostatat </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>dirfd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *</td>          <td class="paramname"><span class="paramname"><em>st</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>options</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a25a0733c503ef8f93abf18fe8cb87006" name="a25a0733c503ef8f93abf18fe8cb87006"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a0733c503ef8f93abf18fe8cb87006">&#9670;&#160;</a></span>parseline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int parseline </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>len</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>token</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aefde7f9f477f2f182845eee2663363f7" name="aefde7f9f477f2f182845eee2663363f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefde7f9f477f2f182845eee2663363f7">&#9670;&#160;</a></span>randombytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void randombytes </td>
          <td>(</td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store n random bytes an buf </p>

</div>
</div>
<a id="a1725a600b8e4bf87748b54f4ea37b1f2" name="a1725a600b8e4bf87748b54f4ea37b1f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1725a600b8e4bf87748b54f4ea37b1f2">&#9670;&#160;</a></span>readt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t readt </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>setnonblocking</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>non-blocking drop-in replacement for read with timeout using select</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>(r) socket, if in blocking mode, pass "setnonblocking" arg as 1 </td></tr>
    <tr><td class="paramname">data</td><td>(rw) buffer for the read data </td></tr>
    <tr><td class="paramname">length</td><td>(r) how many bytes to read </td></tr>
    <tr><td class="paramname">setnonblocking</td><td>(r) when non-zero this func will enable and disable non blocking io mode for the socket </td></tr>
    <tr><td class="paramname">timeout</td><td>(r) number of seconds to try reading, 0 means no timeout</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes actually read or -1 on timeout or error </dd></dl>

</div>
</div>
<a id="a5a34db058713ee9086a16f7f5f981082" name="a5a34db058713ee9086a16f7f5f981082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a34db058713ee9086a16f7f5f981082">&#9670;&#160;</a></span>realpath_safe()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * realpath_safe </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af32134bd62d1e48eb57310a8d5fc5404" name="af32134bd62d1e48eb57310a8d5fc5404"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af32134bd62d1e48eb57310a8d5fc5404">&#9670;&#160;</a></span>recv_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int recv_fd </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>nonblocking</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Receive a fd on a suitable socket </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) PF_UNIX socket to receive on </td></tr>
    <tr><td class="paramname">nonblocking</td><td>(r) 0: fd is in blocking mode - 1: fd is nonblocking, poll for 1 sec </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fd on success, -1 on error </dd></dl>

</div>
</div>
<a id="a2ed50bf96a3179dba7ce4fea0229f161" name="a2ed50bf96a3179dba7ce4fea0229f161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ed50bf96a3179dba7ce4fea0229f161">&#9670;&#160;</a></span>rel_path_in_vol()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bstrlib_8h.html#a7ee510452ae810b71268dfa7b39a3712">bstring</a> rel_path_in_vol </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>volpath</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Build path relativ to volume root</p>
<p>path might be: (a) relative: "dir/subdir" with cwd: "/afp_volume/topdir" (b) absolute: "/afp_volume/dir/subdir"</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>(r) path relative to cwd() or absolute </td></tr>
    <tr><td class="paramname">volpath</td><td>(r) volume path that path is a subdir of (has been computed in volinfo funcs)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>relative path in new bstring, caller must bdestroy it </dd></dl>

</div>
</div>
<a id="aa0c145c2be4be8dfb51359f295c79708" name="aa0c145c2be4be8dfb51359f295c79708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0c145c2be4be8dfb51359f295c79708">&#9670;&#160;</a></span>run_cmd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int run_cmd </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>cmd_argv</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Run command in a child and wait for it to finish </p>

</div>
</div>
<a id="abaeb6c0ea9882e50e387cc4bb8edd00b" name="abaeb6c0ea9882e50e387cc4bb8edd00b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaeb6c0ea9882e50e387cc4bb8edd00b">&#9670;&#160;</a></span>send_fd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int send_fd </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2b60abbbd7780a7d26478b918e208a48" name="a2b60abbbd7780a7d26478b918e208a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b60abbbd7780a7d26478b918e208a48">&#9670;&#160;</a></span>server_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pid_t server_lock </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>program</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>pidfile</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>debug</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afc08abc318ec657fed2938d72854b0db" name="afc08abc318ec657fed2938d72854b0db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc08abc318ec657fed2938d72854b0db">&#9670;&#160;</a></span>setnonblock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int setnonblock </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>fd</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>cmd</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>set or unset non-blocking IO on a fd </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>(r) File descriptor </td></tr>
    <tr><td class="paramname">cmd</td><td>(r) 0: disable non-blocking IO, i.e. block<br  />
 &lt;&gt;0: enable non-blocking IO</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure </dd></dl>

</div>
</div>
<a id="a6b4598af89ce13142b213c34e49fecb2" name="a6b4598af89ce13142b213c34e49fecb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b4598af89ce13142b213c34e49fecb2">&#9670;&#160;</a></span>strdiacasecmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int strdiacasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a34763dcda0093297fce36aad07ac64e6" name="a34763dcda0093297fce36aad07ac64e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34763dcda0093297fce36aad07ac64e6">&#9670;&#160;</a></span>stripped_slashes_basename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * stripped_slashes_basename </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>p</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Takes a buffer with a path, strips slashs, returns basename</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>(rw) path path may be "[/][dir/[...]]file" or "[/][dir/[...]]dir/[/]" Result is "file" or "dir"</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to basename in path buffer, buffer is possibly modified </dd></dl>

</div>
</div>
<a id="af7ffc14b49fe31b5155adca59a523eb2" name="af7ffc14b49fe31b5155adca59a523eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7ffc14b49fe31b5155adca59a523eb2">&#9670;&#160;</a></span>strndiacasecmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int strndiacasecmp </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>s2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>n</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7b98011d737b8b3bc282951555f3f287" name="a7b98011d737b8b3bc282951555f3f287"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b98011d737b8b3bc282951555f3f287">&#9670;&#160;</a></span>strtok_quote()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">char * strtok_quote </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>s</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>delim</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>extended strtok allows the quoted strings modified strtok.c in glibc 2.0.6 </p>

</div>
</div>
<a id="a0a2fa46e0cef80809cd77873559868ff" name="a0a2fa46e0cef80809cd77873559868ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a2fa46e0cef80809cd77873559868ff">&#9670;&#160;</a></span>tmpdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * tmpdir </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6639de1eb1eaad095e3612d03eb17c1b" name="a6639de1eb1eaad095e3612d03eb17c1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6639de1eb1eaad095e3612d03eb17c1b">&#9670;&#160;</a></span>tokenize_ip_port()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tokenize_ip_port </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>ipurl</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>address</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>port</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Tokenize IP(4/6) addresses with an optional port into address and port</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ipurl</td><td>(r) IP URL string </td></tr>
    <tr><td class="paramname">address</td><td>(w) IP address </td></tr>
    <tr><td class="paramname">port</td><td>(w) IP port</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, -1 on failure</dd></dl>
<p>Tokenize IPv4, IPv4:port, IPv6, [IPv6] or [IPv6:port] URL into address and port and return two allocated strings with the address and the port.</p>
<p>If the function returns 0, then address point to a newly allocated valid address string, port may either be NULL or point to a newly allocated port number.</p>
<p>If the function returns -1, then the contents of address and port are undefined. </p>

</div>
</div>
<a id="ae2d02957f53e178b7cd1f83cef6c8379" name="ae2d02957f53e178b7cd1f83cef6c8379"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d02957f53e178b7cd1f83cef6c8379">&#9670;&#160;</a></span>writet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t writet </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>socket</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>setnonblocking</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>timeout</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>non-blocking drop-in replacement for read with timeout using select</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">socket</td><td>(r) socket, if in blocking mode, pass "setnonblocking" arg as 1 </td></tr>
    <tr><td class="paramname">data</td><td>(rw) buffer for the read data </td></tr>
    <tr><td class="paramname">length</td><td>(r) how many bytes to read </td></tr>
    <tr><td class="paramname">setnonblocking</td><td>(r) when non-zero this func will enable and disable non blocking io mode for the socket </td></tr>
    <tr><td class="paramname">timeout</td><td>(r) number of seconds to try reading</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes actually read or -1 on fatal error </dd></dl>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a7246b8cf397827283ab798d5b56f0b0c" name="a7246b8cf397827283ab798d5b56f0b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7246b8cf397827283ab798d5b56f0b0c">&#9670;&#160;</a></span>_diacasemap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int _diacasemap[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4ab05d39ff1faad524c790fb0c879452" name="a4ab05d39ff1faad524c790fb0c879452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ab05d39ff1faad524c790fb0c879452">&#9670;&#160;</a></span>_dialowermap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int _dialowermap[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a href="dir_25f01871147423ebbadbe634d926f3ff.html">atalk</a></li><li class="navelem"><a href="include_2atalk_2util_8h.html">util.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
