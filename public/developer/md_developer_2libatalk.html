<!-- HTML header for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: Using libatalk from third party apps</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<script
    src="https://cdn.jsdelivr.net/npm/mermaid@11.12.0/dist/mermaid.min.js"
    integrity="o+g/BxPwhi0C3RK7oQBxQuNimeafQ3GE/ST4iT2BxVI4Wzt60SH4pq9iXVYujjaS"
    crossorigin="anonymous"
></script>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
  <div id="projectrow">
    <div id="projectlogo">
      <a href="/"><img alt="Logo" src="logo.png"/></a>
    </div>
    <div id="projectalign">
      <div id="projectname">
        netatalk
        <span id="projectnumber">&#160;4.4.0dev</span>
      </div>
      <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
    </div>
  </div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_developer_2libatalk.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Using libatalk from third party apps </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md41"></a></p>
<p>Third party developers wishing to add Netatalk support to their applications have two choices</p>
<ol type="1">
<li>Directly integrate libatalk from the Netatalk source tree</li>
<li>Link with libatalk which is a shared library in its own right starting with Netatalk 3</li>
</ol>
<p>Please note that you need at least Netatalk 3.0.1 for approach 2 to work, because in earlier Netatalk versions some necessary headers are not installed correctly.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md42"></a>
Example</h1>
<p>This examples links a trivial example program with the libatalk shared library. Assuming Netatalk has been installed to /usr/local/netatalk, compiling backup_demo.c is done like this:</p>
<div class="fragment"><div class="line">c99 -I/usr/local/netatalk/include -o backup_demo backup_demo.c -L/usr/local/netatalk/lib -latalk -Wl,-rpath=/usr/local/netatalk/lib</div>
</div><!-- fragment --><p>Here follows the <em>backup_demo.c</em> code which copies metadata and resource from one file to another:</p>
<div class="fragment"><div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment">    Copyright (c) 2012, Frank Lahm </span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    This program is free software; you can redistribute it and/or modify</span></div>
<div class="line"><span class="comment">    it under the terms of the GNU General Public License as published by</span></div>
<div class="line"><span class="comment">    the Free Software Foundation; either version 2 of the License, or</span></div>
<div class="line"><span class="comment">    (at your option) any later version.</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    This program is distributed in the hope that it will be useful,</span></div>
<div class="line"><span class="comment">    but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><span class="comment">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></div>
<div class="line"><span class="comment">    GNU General Public License for more details.</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#ifdef HAVE_CONFIG_H</span></div>
<div class="line"><span class="preprocessor">#include &quot;config.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif </span><span class="comment">/* HAVE_CONFIG_H */</span><span class="preprocessor"></span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;unistd.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sys/types.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdarg.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;errno.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="logger_8h.html">atalk/logger.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="netatalk__conf_8h.html">atalk/netatalk_conf.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="include_2atalk_2volume_8h.html">atalk/volume.h</a>&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define ERROR(...)                              \</span></div>
<div class="line"><span class="preprocessor">    do {                                        \</span></div>
<div class="line"><span class="preprocessor">        _log(__VA_ARGS__);                      \</span></div>
<div class="line"><span class="preprocessor">        exit(1);                                \</span></div>
<div class="line"><span class="preprocessor">    } while (0)</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code hl_function" href="nad_8h.html#a2b05d1cb3aac54a3e1fc93febf7ad05e">_log</a>(<span class="keywordtype">char</span> *fmt, ...)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> len;</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">char</span> logbuffer[1024];</div>
<div class="line">    va_list <a class="code hl_variable" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>;</div>
<div class="line"> </div>
<div class="line">    va_start(<a class="code hl_variable" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>, fmt);</div>
<div class="line">    len = vsnprintf(logbuffer, 1023, fmt, <a class="code hl_variable" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>);</div>
<div class="line">    va_end(<a class="code hl_variable" href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a>);</div>
<div class="line">    logbuffer[1023] = 0;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;%s\n&quot;</span>, logbuffer);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> <a class="code hl_function" href="sanitycheckc_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">const</span> <span class="keywordtype">char</span> *file, *newfile;</div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_struct" href="structvol.html">vol</a> *<a class="code hl_struct" href="structvol.html">vol</a>;</div>
<div class="line">    <span class="keyword">struct </span><a class="code hl_struct" href="structadouble.html">adouble</a> ad, adnew;</div>
<div class="line">    <span class="keyword">struct </span>stat st;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (argc != 3) {</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;usage: backup_demo FILE NEWFILE&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    file = argv[1];</div>
<div class="line">    newfile = argv[2];</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_struct" href="struct_a_f_p_obj.html">AFPObj</a> <a class="code hl_variable" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a> = { 0 };</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="netatalk__conf_8h.html#adb4aefcaa370e4e8ced949f9bd893f14">afp_config_parse</a>(&amp;<a class="code hl_variable" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, <span class="stringliteral">&quot;ad&quot;</span>) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;No Netatalk 3 afp.conf found&quot;</span>, file);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="logger_8h.html#a9c70839fb4f958f9bce6346d0e69698e">setuplog</a>(<span class="stringliteral">&quot;default:note&quot;</span>, <span class="stringliteral">&quot;/dev/tty&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="netatalk__conf_8h.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes</a>(&amp;<a class="code hl_variable" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, NULL) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t load volumes&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> ((<a class="code hl_struct" href="structvol.html">vol</a> = <a class="code hl_function" href="netatalk__conf_8h.html#a078796270be4438a00a963d87e8d332b">getvolbypath</a>(&amp;<a class="code hl_variable" href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a>, file)) == NULL)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Not a Netatalk volume for file \&quot;%s\&quot;&quot;</span>, file);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;Volume path \&quot;%s\&quot;\n&quot;</span>, <a class="code hl_struct" href="structvol.html">vol</a>-&gt;<a class="code hl_variable" href="structvol.html#a61bcc7b5bff6f68926fdfd01e4b55bd2">v_path</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structvol.html">vol</a>-&gt;<a class="code hl_variable" href="structvol.html#a5fa30b6fbd6c924bec1bf8622c68a877">v_adouble</a> == <a class="code hl_define" href="adouble_8h.html#a3439694864c2814567abc1dd90241919">AD_VERSION2</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Volume adouble version v2\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_struct" href="structvol.html">vol</a>-&gt;<a class="code hl_variable" href="structvol.html#a5fa30b6fbd6c924bec1bf8622c68a877">v_adouble</a> == <a class="code hl_define" href="adouble_8h.html#ac38a96bc4cc23d735b5002420eecee38">AD_VERSION_EA</a>) {</div>
<div class="line">        printf(<span class="stringliteral">&quot;Volume adouble version ea\n&quot;</span>);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Unknown adouble version&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#a52a3e26c7d9d28053881d7c52af08cb7">ad_init</a>(&amp;ad, <a class="code hl_struct" href="structvol.html">vol</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Open an existing file&#39;s metadata and ressource */</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="adouble_8h.html#a79142df106145a9b4666421725a62a54">ad_open</a>(&amp;ad, file, <a class="code hl_define" href="adouble_8h.html#ac42af1037a3ef7a334235285ef32bf96">ADFLAGS_HF</a> | <a class="code hl_define" href="adouble_8h.html#ac4964ca7c1b2a948ca46a13e785539ec">ADFLAGS_RDONLY</a>) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t open metadata of \&quot;%s\&quot;&quot;</span>, file);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">int</span> <a class="code hl_function" href="adouble_8h.html#a7a371cabc2d5f806b16b4d840d436f78">ad_size</a> = <a class="code hl_struct" href="structvol.html">vol</a>-&gt;<a class="code hl_variable" href="structvol.html#a5fa30b6fbd6c924bec1bf8622c68a877">v_adouble</a> == <a class="code hl_define" href="adouble_8h.html#a3439694864c2814567abc1dd90241919">AD_VERSION2</a> ? <a class="code hl_define" href="adouble_8h.html#ac37020f982b5f87552b6e3dfbfaea196">AD_DATASZ2</a> : <a class="code hl_define" href="adouble_8h.html#a3d83f3cd2bb51bbc84df04f562438167">AD_DATASZ_EA</a>;</div>
<div class="line">    printf(<span class="stringliteral">&quot;%d bytes in adouble metadata buffer ad-&gt;ad_data\n&quot;</span>, <a class="code hl_function" href="adouble_8h.html#a7a371cabc2d5f806b16b4d840d436f78">ad_size</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="adouble_8h.html#a79142df106145a9b4666421725a62a54">ad_open</a>(&amp;ad, file, <a class="code hl_define" href="adouble_8h.html#ad9d2b9c985fda571bb7a8aeb38768445">ADFLAGS_RF</a> | <a class="code hl_define" href="adouble_8h.html#ac4964ca7c1b2a948ca46a13e785539ec">ADFLAGS_RDONLY</a>) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t open ressource of \&quot;%s\&quot;&quot;</span>, file);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;File has ressource fork of size: %d, fd: %d\n&quot;</span>, ad.ad_rlen, <a class="code hl_define" href="adouble_8h.html#ac64a808b89c9dd5fbacb239d5f646d01">ad_reso_fileno</a>(&amp;ad));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Copy over metadata and ressource to new file */</span></div>
<div class="line">    <span class="keywordflow">if</span> (lstat(newfile, &amp;st) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Can&#39;t stat \&quot;%s\&quot;, must exist, create with eg touch&quot;</span>, newfile);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#a52a3e26c7d9d28053881d7c52af08cb7">ad_init</a>(&amp;adnew, <a class="code hl_struct" href="structvol.html">vol</a>);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_function" href="adouble_8h.html#a79142df106145a9b4666421725a62a54">ad_open</a>(&amp;ad, file, <a class="code hl_define" href="adouble_8h.html#ac42af1037a3ef7a334235285ef32bf96">ADFLAGS_HF</a> | <a class="code hl_define" href="adouble_8h.html#ad9d2b9c985fda571bb7a8aeb38768445">ADFLAGS_RF</a> | <a class="code hl_define" href="adouble_8h.html#a4da3134c7d2b15eaa81e22b77e1eb40c">ADFLAGS_RDWR</a> | <a class="code hl_define" href="adouble_8h.html#a207518b1c650436ac812ce3192298640">ADFLAGS_CREATE</a>) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Couldn&#39;t create metadata/ressource of \&quot;%s\&quot;&quot;</span>, newfile);</div>
<div class="line"> </div>
<div class="line">    memcpy(adnew.ad_data, ad.ad_data, <a class="code hl_function" href="adouble_8h.html#a7a371cabc2d5f806b16b4d840d436f78">ad_size</a>);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#abdb30c4d36cced6df4dd7b0bae86b544">ad_flush</a>(&amp;adnew);</div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_struct" href="structvol.html">vol</a>-&gt;<a class="code hl_variable" href="structvol.html#a7a370fc7017e1105edc9b2664125e503">vfs</a>-&gt;<a class="code hl_variable" href="structvfs__ops.html#a43562fdd47b71e80c85440f879f27e6b">vfs_copyfile</a>(<a class="code hl_struct" href="structvol.html">vol</a>, -1, file, newfile) != 0)</div>
<div class="line">        <a class="code hl_define" href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a>(<span class="stringliteral">&quot;Couln&#39;t copy ressource to \&quot;%s\&quot;&quot;</span>, newfile);</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ac06c70a86191fcac987bffb09d5efd51">ad_close</a>(&amp;ad, <a class="code hl_define" href="adouble_8h.html#ac42af1037a3ef7a334235285ef32bf96">ADFLAGS_HF</a> | <a class="code hl_define" href="adouble_8h.html#ad9d2b9c985fda571bb7a8aeb38768445">ADFLAGS_RF</a>);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ac06c70a86191fcac987bffb09d5efd51">ad_close</a>(&amp;adnew, <a class="code hl_define" href="adouble_8h.html#ac42af1037a3ef7a334235285ef32bf96">ADFLAGS_HF</a> | <a class="code hl_define" href="adouble_8h.html#ad9d2b9c985fda571bb7a8aeb38768445">ADFLAGS_RF</a>);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if 0</span></div>
<div class="line">    <span class="comment">/* examples setting some stuff */</span></div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ae0af80603af004b0bf35c73c2db9def3">ad_setdate</a>(&amp;ad, <a class="code hl_define" href="adouble_8h.html#a2481740df0e92af3f9769cd128e64d5d">AD_DATE_CREATE</a> | <a class="code hl_define" href="adouble_8h.html#a860e10c9459b8c26f559b94d762d78ed">AD_DATE_UNIX</a>, st.st_mtime);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ae0af80603af004b0bf35c73c2db9def3">ad_setdate</a>(&amp;ad, <a class="code hl_define" href="adouble_8h.html#ac8ac3632b5621639318f7f5925252f07">AD_DATE_MODIFY</a> | <a class="code hl_define" href="adouble_8h.html#a860e10c9459b8c26f559b94d762d78ed">AD_DATE_UNIX</a>, st.st_mtime);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ae0af80603af004b0bf35c73c2db9def3">ad_setdate</a>(&amp;ad, <a class="code hl_define" href="adouble_8h.html#ae02997c24b0c5428a00a3e53bdc0ed57">AD_DATE_ACCESS</a> | <a class="code hl_define" href="adouble_8h.html#a860e10c9459b8c26f559b94d762d78ed">AD_DATE_UNIX</a>, st.st_mtime);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#ae0af80603af004b0bf35c73c2db9def3">ad_setdate</a>(&amp;ad, <a class="code hl_define" href="adouble_8h.html#a989f1a72a0df8cb6cb508bed7d11e830">AD_DATE_BACKUP</a>, <a class="code hl_define" href="adouble_8h.html#a44b00e0fe4ea0978a7e59fc799dc6dac">AD_DATE_START</a>);</div>
<div class="line">    <a class="code hl_function" href="adouble_8h.html#abdb30c4d36cced6df4dd7b0bae86b544">ad_flush</a>(&amp;ad);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="ttc" id="aadouble_8h_html_a207518b1c650436ac812ce3192298640"><div class="ttname"><a href="adouble_8h.html#a207518b1c650436ac812ce3192298640">ADFLAGS_CREATE</a></div><div class="ttdeci">#define ADFLAGS_CREATE</div><div class="ttdef"><b>Definition</b> adouble.h:243</div></div>
<div class="ttc" id="aadouble_8h_html_a2481740df0e92af3f9769cd128e64d5d"><div class="ttname"><a href="adouble_8h.html#a2481740df0e92af3f9769cd128e64d5d">AD_DATE_CREATE</a></div><div class="ttdeci">#define AD_DATE_CREATE</div><div class="ttdef"><b>Definition</b> adouble.h:287</div></div>
<div class="ttc" id="aadouble_8h_html_a3439694864c2814567abc1dd90241919"><div class="ttname"><a href="adouble_8h.html#a3439694864c2814567abc1dd90241919">AD_VERSION2</a></div><div class="ttdeci">#define AD_VERSION2</div><div class="ttdef"><b>Definition</b> adouble.h:45</div></div>
<div class="ttc" id="aadouble_8h_html_a3d83f3cd2bb51bbc84df04f562438167"><div class="ttname"><a href="adouble_8h.html#a3d83f3cd2bb51bbc84df04f562438167">AD_DATASZ_EA</a></div><div class="ttdeci">#define AD_DATASZ_EA</div><div class="ttdef"><b>Definition</b> adouble.h:127</div></div>
<div class="ttc" id="aadouble_8h_html_a44b00e0fe4ea0978a7e59fc799dc6dac"><div class="ttname"><a href="adouble_8h.html#a44b00e0fe4ea0978a7e59fc799dc6dac">AD_DATE_START</a></div><div class="ttdeci">#define AD_DATE_START</div><div class="ttdef"><b>Definition</b> adouble.h:294</div></div>
<div class="ttc" id="aadouble_8h_html_a4da3134c7d2b15eaa81e22b77e1eb40c"><div class="ttname"><a href="adouble_8h.html#a4da3134c7d2b15eaa81e22b77e1eb40c">ADFLAGS_RDWR</a></div><div class="ttdeci">#define ADFLAGS_RDWR</div><div class="ttdef"><b>Definition</b> adouble.h:241</div></div>
<div class="ttc" id="aadouble_8h_html_a52a3e26c7d9d28053881d7c52af08cb7"><div class="ttname"><a href="adouble_8h.html#a52a3e26c7d9d28053881d7c52af08cb7">ad_init</a></div><div class="ttdeci">void ad_init(struct adouble *, const struct vol *restrict)</div></div>
<div class="ttc" id="aadouble_8h_html_a79142df106145a9b4666421725a62a54"><div class="ttname"><a href="adouble_8h.html#a79142df106145a9b4666421725a62a54">ad_open</a></div><div class="ttdeci">int ad_open(struct adouble *ad, const char *path, int adflags,...)</div><div class="ttdef"><b>Definition</b> ad_open.c:2299</div></div>
<div class="ttc" id="aadouble_8h_html_a7a371cabc2d5f806b16b4d840d436f78"><div class="ttname"><a href="adouble_8h.html#a7a371cabc2d5f806b16b4d840d436f78">ad_size</a></div><div class="ttdeci">off_t ad_size(const struct adouble *, uint32_t)</div><div class="ttdef"><b>Definition</b> ad_size.c:18</div></div>
<div class="ttc" id="aadouble_8h_html_a860e10c9459b8c26f559b94d762d78ed"><div class="ttname"><a href="adouble_8h.html#a860e10c9459b8c26f559b94d762d78ed">AD_DATE_UNIX</a></div><div class="ttdeci">#define AD_DATE_UNIX</div><div class="ttdef"><b>Definition</b> adouble.h:293</div></div>
<div class="ttc" id="aadouble_8h_html_a989f1a72a0df8cb6cb508bed7d11e830"><div class="ttname"><a href="adouble_8h.html#a989f1a72a0df8cb6cb508bed7d11e830">AD_DATE_BACKUP</a></div><div class="ttdeci">#define AD_DATE_BACKUP</div><div class="ttdef"><b>Definition</b> adouble.h:289</div></div>
<div class="ttc" id="aadouble_8h_html_abdb30c4d36cced6df4dd7b0bae86b544"><div class="ttname"><a href="adouble_8h.html#abdb30c4d36cced6df4dd7b0bae86b544">ad_flush</a></div><div class="ttdeci">int ad_flush(struct adouble *)</div><div class="ttdef"><b>Definition</b> ad_flush.c:439</div></div>
<div class="ttc" id="aadouble_8h_html_ac06c70a86191fcac987bffb09d5efd51"><div class="ttname"><a href="adouble_8h.html#ac06c70a86191fcac987bffb09d5efd51">ad_close</a></div><div class="ttdeci">int ad_close(struct adouble *, int)</div><div class="ttdef"><b>Definition</b> ad_flush.c:476</div></div>
<div class="ttc" id="aadouble_8h_html_ac37020f982b5f87552b6e3dfbfaea196"><div class="ttname"><a href="adouble_8h.html#ac37020f982b5f87552b6e3dfbfaea196">AD_DATASZ2</a></div><div class="ttdeci">#define AD_DATASZ2</div><div class="ttdef"><b>Definition</b> adouble.h:119</div></div>
<div class="ttc" id="aadouble_8h_html_ac38a96bc4cc23d735b5002420eecee38"><div class="ttname"><a href="adouble_8h.html#ac38a96bc4cc23d735b5002420eecee38">AD_VERSION_EA</a></div><div class="ttdeci">#define AD_VERSION_EA</div><div class="ttdef"><b>Definition</b> adouble.h:46</div></div>
<div class="ttc" id="aadouble_8h_html_ac42af1037a3ef7a334235285ef32bf96"><div class="ttname"><a href="adouble_8h.html#ac42af1037a3ef7a334235285ef32bf96">ADFLAGS_HF</a></div><div class="ttdeci">#define ADFLAGS_HF</div><div class="ttdef"><b>Definition</b> adouble.h:235</div></div>
<div class="ttc" id="aadouble_8h_html_ac4964ca7c1b2a948ca46a13e785539ec"><div class="ttname"><a href="adouble_8h.html#ac4964ca7c1b2a948ca46a13e785539ec">ADFLAGS_RDONLY</a></div><div class="ttdeci">#define ADFLAGS_RDONLY</div><div class="ttdef"><b>Definition</b> adouble.h:242</div></div>
<div class="ttc" id="aadouble_8h_html_ac64a808b89c9dd5fbacb239d5f646d01"><div class="ttname"><a href="adouble_8h.html#ac64a808b89c9dd5fbacb239d5f646d01">ad_reso_fileno</a></div><div class="ttdeci">#define ad_reso_fileno(ad)</div><div class="ttdef"><b>Definition</b> adouble.h:359</div></div>
<div class="ttc" id="aadouble_8h_html_ac8ac3632b5621639318f7f5925252f07"><div class="ttname"><a href="adouble_8h.html#ac8ac3632b5621639318f7f5925252f07">AD_DATE_MODIFY</a></div><div class="ttdeci">#define AD_DATE_MODIFY</div><div class="ttdef"><b>Definition</b> adouble.h:288</div></div>
<div class="ttc" id="aadouble_8h_html_ad9d2b9c985fda571bb7a8aeb38768445"><div class="ttname"><a href="adouble_8h.html#ad9d2b9c985fda571bb7a8aeb38768445">ADFLAGS_RF</a></div><div class="ttdeci">#define ADFLAGS_RF</div><div class="ttdef"><b>Definition</b> adouble.h:234</div></div>
<div class="ttc" id="aadouble_8h_html_ae02997c24b0c5428a00a3e53bdc0ed57"><div class="ttname"><a href="adouble_8h.html#ae02997c24b0c5428a00a3e53bdc0ed57">AD_DATE_ACCESS</a></div><div class="ttdeci">#define AD_DATE_ACCESS</div><div class="ttdef"><b>Definition</b> adouble.h:290</div></div>
<div class="ttc" id="aadouble_8h_html_ae0af80603af004b0bf35c73c2db9def3"><div class="ttname"><a href="adouble_8h.html#ae0af80603af004b0bf35c73c2db9def3">ad_setdate</a></div><div class="ttdeci">int ad_setdate(struct adouble *, unsigned int, uint32_t)</div><div class="ttdef"><b>Definition</b> ad_date.c:10</div></div>
<div class="ttc" id="ainclude_2atalk_2volume_8h_html"><div class="ttname"><a href="include_2atalk_2volume_8h.html">volume.h</a></div></div>
<div class="ttc" id="alogger_8h_html"><div class="ttname"><a href="logger_8h.html">logger.h</a></div></div>
<div class="ttc" id="alogger_8h_html_a9c70839fb4f958f9bce6346d0e69698e"><div class="ttname"><a href="logger_8h.html#a9c70839fb4f958f9bce6346d0e69698e">setuplog</a></div><div class="ttdeci">void setuplog(const char *loglevel, const char *logfile, const bool log_us_timestamp)</div><div class="ttdef"><b>Definition</b> logger.c:547</div></div>
<div class="ttc" id="anad_8h_html_a02ce8a968600d004ba60858425c46307"><div class="ttname"><a href="nad_8h.html#a02ce8a968600d004ba60858425c46307">ERROR</a></div><div class="ttdeci">#define ERROR(...)</div><div class="ttdef"><b>Definition</b> nad.h:45</div></div>
<div class="ttc" id="anad_8h_html_a2b05d1cb3aac54a3e1fc93febf7ad05e"><div class="ttname"><a href="nad_8h.html#a2b05d1cb3aac54a3e1fc93febf7ad05e">_log</a></div><div class="ttdeci">void _log(enum logtype lt, char *fmt,...)</div><div class="ttdef"><b>Definition</b> nad_util.c:79</div></div>
<div class="ttc" id="anetatalk_8c_html_ab2a2323b2013b68132e8db8dc5087da6"><div class="ttname"><a href="netatalk_8c.html#ab2a2323b2013b68132e8db8dc5087da6">obj</a></div><div class="ttdeci">static AFPObj obj</div><div class="ttdef"><b>Definition</b> netatalk.c:62</div></div>
<div class="ttc" id="anetatalk__conf_8h_html"><div class="ttname"><a href="netatalk__conf_8h.html">netatalk_conf.h</a></div></div>
<div class="ttc" id="anetatalk__conf_8h_html_a078796270be4438a00a963d87e8d332b"><div class="ttname"><a href="netatalk__conf_8h.html#a078796270be4438a00a963d87e8d332b">getvolbypath</a></div><div class="ttdeci">struct vol * getvolbypath(AFPObj *obj, const char *path)</div><div class="ttdef"><b>Definition</b> netatalk_conf.c:2190</div></div>
<div class="ttc" id="anetatalk__conf_8h_html_aa051b28df16f69cdbffebc533455f4e7"><div class="ttname"><a href="netatalk__conf_8h.html#aa051b28df16f69cdbffebc533455f4e7">load_volumes</a></div><div class="ttdeci">int load_volumes(AFPObj *obj, lv_flags_t flags)</div><div class="ttdef"><b>Definition</b> netatalk_conf.c:1923</div></div>
<div class="ttc" id="anetatalk__conf_8h_html_adb4aefcaa370e4e8ced949f9bd893f14"><div class="ttname"><a href="netatalk__conf_8h.html#adb4aefcaa370e4e8ced949f9bd893f14">afp_config_parse</a></div><div class="ttdeci">int afp_config_parse(AFPObj *obj, char *processname)</div><div class="ttdef"><b>Definition</b> netatalk_conf.c:2430</div></div>
<div class="ttc" id="asanitycheckc_8c_html_a840291bc02cba5474a4cb46a9b9566fe"><div class="ttname"><a href="sanitycheckc_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a></div><div class="ttdeci">int main(void)</div><div class="ttdef"><b>Definition</b> sanitycheckc.c:1</div></div>
<div class="ttc" id="astruct_a_f_p_obj_html"><div class="ttname"><a href="struct_a_f_p_obj.html">AFPObj</a></div><div class="ttdef"><b>Definition</b> globals.h:154</div></div>
<div class="ttc" id="astructadouble_html"><div class="ttname"><a href="structadouble.html">adouble</a></div><div class="ttdef"><b>Definition</b> adouble.h:191</div></div>
<div class="ttc" id="astructvfs__ops_html_a43562fdd47b71e80c85440f879f27e6b"><div class="ttname"><a href="structvfs__ops.html#a43562fdd47b71e80c85440f879f27e6b">vfs_ops::vfs_copyfile</a></div><div class="ttdeci">int(* vfs_copyfile)(VFS_FUNC_ARGS_COPYFILE)</div><div class="ttdef"><b>Definition</b> vfs.h:109</div></div>
<div class="ttc" id="astructvol_html"><div class="ttname"><a href="structvol.html">vol</a></div><div class="ttdef"><b>Definition</b> include/atalk/volume.h:32</div></div>
<div class="ttc" id="astructvol_html_a5fa30b6fbd6c924bec1bf8622c68a877"><div class="ttname"><a href="structvol.html#a5fa30b6fbd6c924bec1bf8622c68a877">vol::v_adouble</a></div><div class="ttdeci">int v_adouble</div><div class="ttdef"><b>Definition</b> include/atalk/volume.h:51</div></div>
<div class="ttc" id="astructvol_html_a61bcc7b5bff6f68926fdfd01e4b55bd2"><div class="ttname"><a href="structvol.html#a61bcc7b5bff6f68926fdfd01e4b55bd2">vol::v_path</a></div><div class="ttdeci">char * v_path</div><div class="ttdef"><b>Definition</b> include/atalk/volume.h:37</div></div>
<div class="ttc" id="astructvol_html_a7a370fc7017e1105edc9b2664125e503"><div class="ttname"><a href="structvol.html#a7a370fc7017e1105edc9b2664125e503">vol::vfs</a></div><div class="ttdeci">struct vfs_ops * vfs</div><div class="ttdef"><b>Definition</b> include/atalk/volume.h:79</div></div>
<div class="ttc" id="atest_8c_html_a46412c89a7731ffc8811e98a65c63fbd"><div class="ttname"><a href="test_8c.html#a46412c89a7731ffc8811e98a65c63fbd">args</a></div><div class="ttdeci">static char * args[]</div><div class="ttdef"><b>Definition</b> test.c:48</div></div>
</div><!-- fragment --><hr  />
<p>Authored by Ralph BÃ¶hme </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- HTML footer for doxygen 1.14.0-->
<!-- modified for netatalk -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
