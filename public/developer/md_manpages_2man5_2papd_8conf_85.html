<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>netatalk: Name</title>
<link rel="icon" href="favicon.ico" type="image/x-icon" />
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">netatalk<span id="projectnumber">&#160;4.4.0dev</span>
   </div>
   <div id="projectbrief">Free and Open Source Apple Filing Protocol (AFP) Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md_manpages_2man5_2papd_8conf_85.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Name </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md290"></a></p>
<p>papd.conf â€” Configuration file used by papd to determine the configuration of printers used by the Netatalk printing daemon</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md291"></a>
Description</h1>
<p><b>papd.conf</b> is the configuration file used by papd to configure the printing services offered by netatalk. <em>papd</em> shares the same defaults as lpd on many systems. One notable exception is Solaris.</p>
<p>The format of papd.conf is derived from <b>printcap</b>(5) and can contain configurations for one or more printers. Any line not prefixed with *#* is interpreted. The configuration lines are composed like this:</p>
<p><em>printername:[options]</em></p>
<p>On systems running a System V printing system, the simplest case is to have either no papd.conf, or to have one that has no active lines. In this case, <b>atalkd</b> should auto-discover the local printers on the machine. Please note that you can split lines with a *\* (backslash).</p>
<p>printername may be just a name (<em>Printer 1</em>), or it may be a full name in nbp_name format (*Printer 1:LaserWriter@My Zone*).</p>
<p>Systems using a BSD printing system should make use of a pipe to the printing command in question within the <em>pr</em> option (e.g. <em>pr=|/usr/bin/lpr</em>).</p>
<p>When CUPS support is compiled in, then <em>cupsautoadd</em> as the first entry in papd.conf will automagically configure and make all CUPS printers available to papd (customizable &ndash; see below). This can be overwritten for individual printers by subsequently adding individual entries using the CUPS queue name as <em>pr</em> entry. Note: CUPS support is mutually exclusive with System V support described above.</p>
<p>The possible options are colon delimited (<em>:</em>), and lines must be terminated with colons. The available options and flags are:</p>
<p><b>am=(uams list)</b></p>
<blockquote class="doxtable">
<p>The <b>am</b> option allows specific UAMs to be specified for a particular printer. It has no effect if the <b>au</b> flag is not present. Note: possible values are <em>uams_guest.so</em> and <em>uams_clrtxt.so</em> only. The first method requires a valid username, but no password. The second requires both a valid username and the correct password. </p>
</blockquote>
<p><b>au</b></p>
<blockquote class="doxtable">
<p>If present, this flag enables authentication for the printer. </p>
</blockquote>
<p><b>co=(CUPS options)</b></p>
<blockquote class="doxtable">
<p>The <em>co</em> option allows options to be passed through to CUPS (e.g. <em>co="protocol=TBCP"</em> or <em>co="raw"</em>). </p>
</blockquote>
<p><b>cupsautoadd[:type][@zone]</b></p>
<blockquote class="doxtable">
<p>If used as the first entry in papd.conf this will share all CUPS printers via papd. type/zone settings as well as other parameters assigned to this special shared printer will apply to all CUPS printers. Unless the <em>pd</em> option is set, the CUPS PPDs will be used. To overwrite these global settings for individual printers simply add them subsequently to papd.conf and assign different settings. </p>
</blockquote>
<p><b>fo</b></p>
<blockquote class="doxtable">
<p>If present, this flag enables a hack to translate line endings originating from pre-Mac OS X LaserWriter drivers to let <em>foomatic-rip</em> recognize foomatic PPD options set in the printer dialog. Attention: Use with caution since this might corrupt binary print jobs! </p>
</blockquote>
<p><b>op=(operator)</b></p>
<blockquote class="doxtable">
<p>This specifies the operator name, for lpd spooling. Default value is "operator". </p>
</blockquote>
<p><b>pa=(appletalk address)</b></p>
<blockquote class="doxtable">
<p>Allows specification of AppleTalk addresses. Usually not needed. </p>
</blockquote>
<p><b>pd=(path to ppd file)</b></p>
<blockquote class="doxtable">
<p>Specifies a particular PPD (printer description file) to associate with the selected printer. </p>
</blockquote>
<p><b>pr=(lpd/CUPS printer name or pipe command)</b></p>
<blockquote class="doxtable">
<p>Sets the <em>lpd</em> or <em>CUPS</em> printer that this is spooled to. Default value is "lp". </p>
</blockquote>
<h1 class="doxsection"><a class="anchor" id="autotoc_md292"></a>
Examples</h1>
<p>Unless CUPS support has been compiled in (which is default from Netatalk 2.0 on) one simply defines the lpd queue in question by setting the <b>pr</b> parameter to the queue name, in the following example "ps". If no <b>pr</b> parameter is set, the default printer will be used.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md293"></a>
Example: papd.conf System V printing system examples</h2>
<p>The first spooler is known by the AppleTalk name Mac Printer Spooler, and uses a PPD file located in */usr/share/lib/ppd*. In addition, the user mcs will be the owner of all jobs that are spooled. The second spooler is known as HP Printer and all options are the default. </p><pre class="fragment">Mac Printer Spooler:\
   :pr=ps:\
   :pd=/usr/share/lib/ppd/HPLJ_4M.PPD:\
   :op=mcs:

HP Printer:\
   :
</pre><p>An alternative to the technique outlined above is to direct papd's output via a pipe into another program. Almost any printing system can be driven using this mechanism.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md294"></a>
Example: papd.conf examples using pipes</h2>
<p>The first spooler is known as HP 8100. It pipes the print job to */usr/bin/lpr* for printing. PSSP authenticated printing is enabled, as is CAP-style authenticated printing. Both methods support guest and cleartext authentication as specified by the '<b>am</b>' option. The PPD used is */etc/atalk/ppds/hp8100.ppd*. </p><pre class="fragment">HP 8100:\
   :pr=|/usr/bin/lpr -Plp:\
   :sp:\
   :ca=/tmp/print:\
   :am=uams_guest.so,uams_clrtxt.so:\
   :pd=/etc/atalk/ppds/hp8100.ppd:
</pre><p>Starting with Netatalk 2.0, direct CUPS integration is available. In this case, defining only a queue name as <b>pr</b> parameter won't invoke the SysV lpd daemon but uses CUPS instead. Unless a specific PPD has been assigned using the <b>pd</b> switch, the PPD configured in CUPS will be used by <b>papd</b>, too.</p>
<p>There exists one special share named "cupsautoadd". If this is present as the first entry then all available CUPS queues will be served automagically using the parameters assigned to this global share. But subsequent printer definitions can be used to override these global settings for individual spoolers.</p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md295"></a>
Example: papd.conf CUPS examples</h2>
<p>The first entry sets up automatic sharing of all CUPS printers. All those shares appear in the zone "1st floor" and since no additional settings have been made, they use the CUPS printer name as NBP name and use the PPD configured in CUPS. The second entry defines different settings for one single CUPS printer. Its NBP name is differing from the printer's name and the registration happens in another zone. </p><pre class="fragment">cupsautoadd@1st floor:op=root:

Boss' LaserWriter@2nd floor:\
   :pr=laserwriter-chief:
</pre><h1 class="doxsection"><a class="anchor" id="autotoc_md296"></a>
Caveats</h1>
<p>If you are using more than 15 printers in your network, you must specify AppleTalk zones for the papd printer configurations. Otherwise, only some of the printers may appear in the Chooser on Mac clients.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md297"></a>
See Also</h1>
<p>papd(8), atalkd.conf(5), lpd(8), lpoptions(8)</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md298"></a>
Author</h1>
<p><a href="https://netatalk.io/contributors">Contributors to the Netatalk Project</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
